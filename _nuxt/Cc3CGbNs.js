import{bv as N,Y as F,bw as G,bx as J,z as V,a4 as S,a5 as b,J as n,bJ as E,W as H,f as K,w as k,X as B,h as W,bI as X,E as Y,ac as M,ad as P,bK as x,a7 as I,H as i,bu as Z,Z as _,az as D,a8 as C}from"./BTXGmdcq.js";import{u as Q}from"./Bp5MNH0f.js";import ee from"./bBwryjxf.js";import te from"./DVjjFg4r.js";import{u as re}from"./DhEydZyw.js";import{d as oe}from"./BWHuqYAD.js";import"./BXTbhdJx.js";import"./C6IGQG6m.js";import"./DGh5im1-.js";import"./Cj7M1PW7.js";import"./DvXkyWUv.js";import"./Cd8cFK-B.js";import"./DZChHicL.js";import"./nCACF461.js";import"./BnLGZ4BM.js";import"./BzeTaDLP.js";import"./Ch2MuIH6.js";import"./uiXGz-MS.js";import"./DvJmaCIR.js";import"./SsWVxQck.js";import"./kRIii9yh.js";import"./RbvmsRGE.js";import"./DPrTocle.js";import"./CzzxP46t.js";import"./KyXXdlGa.js";import"./DgvE0N9a.js";const se={slots:{modal:"",input:"[&>input]:text-base/5"},variants:{fullscreen:{false:{modal:"sm:max-w-3xl sm:h-[28rem]"}}}},Ue={__name:"UContentSearch",props:N({icon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(u,{expose:T}){const t=u,R=F(),p=G(u,"searchTerm",{type:String,default:""}),{t:o}=J(),{open:s,mapNavigationItems:f,postFilter:m}=Q(),a=re(),l=V(),U=S(b(t,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),w=S(b(t,"overlay","transition","content","dismissible","fullscreen","modal","portal")),A=()=>x(R,["content"]),O=n(()=>D({},t.fuse,{fuseOptions:{includeMatches:!0}})),h=n(()=>C({extend:C(se),...l.ui?.contentSearch||{}})({fullscreen:t.fullscreen})),y=E("commandPaletteRef"),v=n(()=>t.links?.length?t.links.flatMap(e=>[{...e,suffix:e.description,description:void 0,icon:e.icon||l.ui.icons.file,children:void 0},...e.children?.map(r=>({...r,prefix:e.label+" >",suffix:r.description,description:void 0,icon:r.icon||e.icon||l.ui.icons.file}))||[]]):[]),$=n(()=>t.navigation?.length?t.navigation.some(e=>!!e.children?.length)?t.navigation.map(e=>({id:e.path,label:e.title,items:f(e.children||[],t.files||[]),postFilter:m})):[{id:"docs",items:f(t.navigation,t.files||[]),postFilter:m}]:[]),g=n(()=>!t.colorMode||a?.forced?null:{id:"theme",label:o("contentSearch.theme"),items:[{label:o("colorMode.system"),icon:l.ui.icons.system,active:a.preference==="system",onSelect:()=>{a.preference="system"}},{label:o("colorMode.light"),icon:l.ui.icons.light,active:a.preference==="light",onSelect:()=>{a.preference="light"}},{label:o("colorMode.dark"),icon:l.ui.icons.dark,active:a.preference==="dark",onSelect:()=>{a.preference="dark"}}]}),j=n(()=>{const e=[];return v.value.length&&e.push({id:"links",label:o("contentSearch.links"),items:v.value}),e.push(...$.value),e.push(...t.groups||[]),g.value&&e.push(g.value),e});function z(e){e.disabled||(s.value=!1,p.value="")}return oe({[t.shortcut]:{usingInput:!0,handler:()=>s.value=!s.value}}),T({commandPaletteRef:y}),(e,r)=>(K(),H(ee,I({open:i(s),"onUpdate:open":r[2]||(r[2]=d=>_(s)?s.value=d:null),title:u.title||i(o)("contentSearch.title"),description:u.description||i(o)("contentSearch.description")},i(w),{"data-slot":"modal",class:h.value.modal({class:[t.ui?.modal,t.class]})}),{content:k(d=>[B(e.$slots,"content",M(P(d)),()=>[W(te,I({ref_key:"commandPaletteRef",ref:y,"search-term":p.value,"onUpdate:searchTerm":r[0]||(r[0]=c=>p.value=c)},i(U),{groups:j.value,fuse:O.value,ui:i(Z)(i(x)(h.value,["modal"]),t.ui),"onUpdate:modelValue":z,"onUpdate:open":r[1]||(r[1]=c=>s.value=c)}),X({_:2},[Y(A(),(c,q)=>({name:q,fn:k(L=>[B(e.$slots,q,M(P(L)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}};export{Ue as default};
