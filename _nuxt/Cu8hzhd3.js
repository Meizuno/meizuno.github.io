import{bN as J,O as _e,co as $e,a8 as Be,y as Ce,a3 as Oe,a4 as Fe,cU as Me,an as k,aQ as V,dh as Ve,au as je,av as Ke,M as z,r as Pe,o as Ne,d as h,e as r,g as p,w as d,G as i,n as o,aR as De,h as _,a0 as m,A as $,t as S,f as b,I as g,L as B,a6 as x,a9 as W,F as I,D as j,aw as Ee,ax as Re,a5 as L,dm as Ge,a7 as X,dw as Z,S as Ue,aS as He}from"./CHkcllE_.js";import{c as Ye}from"./DdHgTTRl.js";import Qe from"./zlRcS-JD.js";import{u as Je,_ as ee,a as ae,b as We,d as Xe,e as Ze,f as ea,c as aa,g as ia,h as ta,i as sa,j as la,k as na,l as ra}from"./BoP2h7Kj.js";import{_ as oa}from"./41e4_5MT.js";import"./BPbVXZjh.js";import"./CEB5QlUs.js";import"./DvXkyWUv.js";import"./C22R8UdE.js";import"./CcYRuYAF.js";import"./DExmBIWe.js";import"./BeFeCZW1.js";import"./Cc1alu-E.js";import"./CDsXe6as.js";import"./hw_F6FWS.js";import"./kRIii9yh.js";import"./D0xuY941.js";const ua={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},ka=Object.assign({inheritAttrs:!1},{__name:"USelectMenu",props:J({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:J(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(v,{expose:ie,emit:te}){const e=v,A=te,w=_e(),u=$e(v,"searchTerm",{type:String,default:""}),{t:T}=Be(),C=Ce(),{contains:K}=Je({sensitivity:"base"}),se=Oe(Fe(e,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),A),le=Me(k(()=>e.portal)),ne=k(()=>V(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),re=k(()=>e.arrow),oe=k(()=>V(e.searchInput,{placeholder:T("selectMenu.search"),variant:"none"})),{emitFormBlur:ue,emitFormFocus:ce,emitFormInput:de,emitFormChange:ge,size:pe,color:fe,id:me,name:ve,highlight:he,disabled:be,ariaAttrs:ye}=Ve(e),{orientation:ze,size:xe}=je(e),{isLeading:O,isTrailing:P,leadingIconName:N,trailingIconName:D}=Ke(k(()=>V(e,{trailingIcon:C.ui.icons.chevronDown}))),Se=z(()=>xe.value||pe.value),[Ie,E]=Ye(),s=z(()=>X({extend:X(ua),...C.ui?.selectMenu||{}})({color:fe.value,variant:e.variant,size:Se?.value,loading:e.loading,highlight:he.value,leading:O.value||!!e.avatar||!!w.leading,trailing:P.value||!!w.trailing,buttonGroup:ze.value}));function R(t){if(e.multiple&&Array.isArray(t)){const l=t.map(y=>R(y)).filter(Boolean);return l?.length?l.join(", "):void 0}const n=Le.value.find(l=>Z(typeof l=="object"&&e.valueKey?L(l,e.valueKey):l,t));return n&&(typeof n=="object"?L(n,e.labelKey):n)}const F=z(()=>e.items?.length?He(e.items)?e.items:[e.items]:[]),Le=z(()=>F.value.flatMap(t=>t)),G=z(()=>{if(e.ignoreFilter||!u.value)return F.value;const t=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return F.value.map(n=>n.filter(l=>l==null?!1:typeof l!="object"?K(String(l),u.value):l.type&&["label","separator"].includes(l.type)?!0:t.some(y=>{const f=L(l,y);return f!=null&&K(String(f),u.value)}))).filter(n=>n.filter(l=>!c(l)||!l.type||!["label","separator"].includes(l.type)).length>0)}),U=z(()=>G.value.flatMap(t=>t)),H=z(()=>{if(!e.createItem||!u.value)return!1;const t=e.valueKey?{[e.valueKey]:u.value}:u.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!U.value.find(n=>Z(n,t,e.valueKey)):!U.value.length}),Y=z(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),M=Pe(null);function Ae(){e.autofocus&&M.value?.$el?.focus({focusVisible:!0})}Ne(()=>{setTimeout(()=>{Ae()},e.autofocusDelay)});function qe(t){if(Ue(e.modelValue)===t)return;const n=new Event("change",{target:{value:t}});A("change",n),ge(),de(),e.resetSearchTermOnSelect&&(u.value="")}function ke(t){let n;if(t){const l=new FocusEvent("focus");A("focus",l),ce(),clearTimeout(n)}else{const l=new FocusEvent("blur");A("blur",l),ue(),e.resetSearchTermOnBlur&&(n=setTimeout(()=>{u.value=""},100))}}function we(t,n){if(c(n)){if(n.disabled){t.preventDefault();return}n.onSelect?.(t)}}function c(t){return typeof t=="object"&&t!==null}return ie({triggerRef:M}),(t,n)=>(r(),h(I,null,[p(i(Ie),null,{default:d(()=>[p(i(ee),{class:o(s.value.group({class:e.ui?.group}))},{default:d(()=>[p(i(ae),{class:o(s.value.item({class:e.ui?.item})),value:u.value,onSelect:n[0]||(n[0]=De(l=>A("create",u.value),["prevent"]))},{default:d(()=>[_("span",{class:o(s.value.itemLabel({class:e.ui?.itemLabel}))},[m(t.$slots,"create-item-label",{item:u.value},()=>[$(S(i(T)("selectMenu.create",{label:u.value})),1)])],2)]),_:3},8,["class","value"])]),_:3},8,["class"])]),_:3}),p(i(ra),x({id:i(me)},{...i(se),...t.$attrs,...i(ye)},{"ignore-filter":"","as-child":"",name:i(ve),disabled:i(be),"onUpdate:modelValue":qe,"onUpdate:open":ke}),{default:d(({modelValue:l,open:y})=>[p(i(We),{"as-child":""},{default:d(()=>[p(i(Xe),{ref_key:"triggerRef",ref:M,class:o(s.value.base({class:[e.ui?.base,e.class]})),tabindex:"0"},{default:d(()=>[i(O)||v.avatar||w.leading?(r(),h("span",{key:0,class:o(s.value.leading({class:e.ui?.leading}))},[m(t.$slots,"leading",{modelValue:l,open:y,ui:s.value},()=>[i(O)&&i(N)?(r(),g(B,{key:0,name:i(N),class:o(s.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):v.avatar?(r(),g(W,x({key:1,size:e.ui?.itemLeadingAvatarSize||s.value.itemLeadingAvatarSize()},v.avatar,{class:s.value.itemLeadingAvatar({class:e.ui?.itemLeadingAvatar})}),null,16,["size","class"])):b("",!0)])],2)):b("",!0),m(t.$slots,"default",{modelValue:l,open:y},()=>[(r(!0),h(I,null,j([R(l)],f=>(r(),h(I,{key:f},[f!=null?(r(),h("span",{key:0,class:o(s.value.value({class:e.ui?.value}))},S(f),3)):(r(),h("span",{key:1,class:o(s.value.placeholder({class:e.ui?.placeholder}))},S(v.placeholder??" "),3))],64))),128))]),i(P)||w.trailing?(r(),h("span",{key:1,class:o(s.value.trailing({class:e.ui?.trailing}))},[m(t.$slots,"trailing",{modelValue:l,open:y,ui:s.value},()=>[i(D)?(r(),g(B,{key:0,name:i(D),class:o(s.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):b("",!0)])],2)):b("",!0)]),_:2},1032,["class"])]),_:2},1024),p(i(Ze),Ee(Re(i(le))),{default:d(()=>[p(i(ea),x({class:s.value.content({class:e.ui?.content})},ne.value),{default:d(()=>[p(i(oa),{trapped:"",class:o(s.value.focusScope({class:e.ui?.focusScope}))},{default:d(()=>[m(t.$slots,"content-top"),v.searchInput?(r(),g(i(aa),{key:0,modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=f=>u.value=f),"display-value":()=>u.value,"as-child":""},{default:d(()=>[p(Qe,x({autofocus:"",autocomplete:"off",size:v.size},oe.value,{class:s.value.input({class:e.ui?.input})}),null,16,["size","class"])]),_:1},8,["modelValue","display-value"])):b("",!0),p(i(ia),{class:o(s.value.empty({class:e.ui?.empty}))},{default:d(()=>[m(t.$slots,"empty",{searchTerm:u.value},()=>[$(S(u.value?i(T)("selectMenu.noMatch",{searchTerm:u.value}):i(T)("selectMenu.noData")),1)])]),_:3},8,["class"]),_("div",{role:"presentation",class:o(s.value.viewport({class:e.ui?.viewport}))},[H.value&&Y.value==="top"?(r(),g(i(E),{key:0})):b("",!0),(r(!0),h(I,null,j(G.value,(f,Q)=>(r(),g(i(ee),{key:`group-${Q}`,class:o(s.value.group({class:e.ui?.group}))},{default:d(()=>[(r(!0),h(I,null,j(f,(a,q)=>(r(),h(I,{key:`group-${Q}-${q}`},[c(a)&&a.type==="label"?(r(),g(i(ta),{key:0,class:o(s.value.label({class:[e.ui?.label,a.ui?.label,a.class]}))},{default:d(()=>[$(S(i(L)(a,e.labelKey)),1)]),_:2},1032,["class"])):c(a)&&a.type==="separator"?(r(),g(i(sa),{key:1,class:o(s.value.separator({class:[e.ui?.separator,a.ui?.separator,a.class]}))},null,8,["class"])):(r(),g(i(ae),{key:2,class:o(s.value.item({class:[e.ui?.item,c(a)&&a.ui?.item,c(a)&&a.class]})),disabled:c(a)&&a.disabled,value:e.valueKey&&c(a)?i(L)(a,e.valueKey):a,onSelect:Te=>we(Te,a)},{default:d(()=>[m(t.$slots,"item",{item:a,index:q},()=>[m(t.$slots,"item-leading",{item:a,index:q},()=>[c(a)&&a.icon?(r(),g(B,{key:0,name:a.icon,class:o(s.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,a.ui?.itemLeadingIcon]}))},null,8,["name","class"])):c(a)&&a.avatar?(r(),g(W,x({key:1,size:a.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||s.value.itemLeadingAvatarSize()},{ref_for:!0},a.avatar,{class:s.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,a.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):c(a)&&a.chip?(r(),g(Ge,x({key:2,size:e.ui?.itemLeadingChipSize||s.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},a.chip,{class:s.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,a.ui?.itemLeadingChip]})}),null,16,["size","class"])):b("",!0)]),_("span",{class:o(s.value.itemLabel({class:[e.ui?.itemLabel,c(a)&&a.ui?.itemLabel]}))},[m(t.$slots,"item-label",{item:a,index:q},()=>[$(S(c(a)?i(L)(a,e.labelKey):a),1)])],2),_("span",{class:o(s.value.itemTrailing({class:[e.ui?.itemTrailing,c(a)&&a.ui?.itemTrailing]}))},[m(t.$slots,"item-trailing",{item:a,index:q}),p(i(la),{"as-child":""},{default:d(()=>[p(B,{name:v.selectedIcon||i(C).ui.icons.check,class:o(s.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,c(a)&&a.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128)),H.value&&Y.value==="bottom"?(r(),g(i(E),{key:1})):b("",!0)],2),m(t.$slots,"content-bottom")]),_:3},8,["class"]),v.arrow?(r(),g(i(na),x({key:0},re.value,{class:s.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):b("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["id","name","disabled"])],64))}});export{ka as default};
