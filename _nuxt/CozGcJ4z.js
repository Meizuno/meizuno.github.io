import{Y as z,z as A,J as C,W as d,f as a,w as f,i as S,e as l,g as o,X as g,K as $,n as s,a6 as w,a7 as v,F as c,B as y,t as k,E as p,h as B,H as b,bK as I,G as V,ab as j,a8 as h}from"./BTXGmdcq.js";import N from"./Jez0Y2mp.js";import"./KtWAmJ86.js";import"./YUXg4neu.js";import"./C6IGQG6m.js";import"./DgvE0N9a.js";const E={slots:{root:"group/message relative w-full",container:"relative flex items-start",leading:"inline-flex items-center justify-center min-h-6",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",content:"relative text-pretty min-w-0 *:first:mt-0 *:last:mb-0",actions:["opacity-0 group-hover/message:opacity-100 absolute bottom-0 flex items-center","transition-opacity"]},variants:{variant:{solid:{content:"bg-inverted text-inverted"},outline:{content:"bg-default ring ring-default"},soft:{content:"bg-elevated/50"},subtle:{content:"bg-elevated/50 ring ring-default"},naked:{content:""}},side:{left:{container:"rtl:justify-end"},right:{container:"ltr:justify-end ms-auto max-w-[75%]"}},leading:{true:""},actions:{true:""},compact:{true:{root:"scroll-mt-3",container:"gap-1.5 pb-3",leadingIcon:"size-5",leadingAvatarSize:"2xs"},false:{root:"scroll-mt-4 sm:scroll-mt-6",container:"gap-3 pb-8",leadingIcon:"size-8",leadingAvatarSize:"md"}}},compoundVariants:[{compact:!0,actions:!0,class:{container:"pb-8"}},{leading:!0,compact:!1,side:"left",class:{actions:"left-11"}},{leading:!0,compact:!0,side:"left",class:{actions:"left-6.5"}},{variant:["solid","outline","soft","subtle"],compact:!1,class:{content:"px-4 py-3 rounded-lg min-h-12",leading:"mt-2"}},{variant:["solid","outline","soft","subtle"],compact:!0,class:{content:"px-2 py-1 rounded-lg min-h-8",leading:"mt-1"}},{variant:"naked",side:"left",class:{content:"w-full"}}],defaultVariants:{variant:"naked"}},J={__name:"UChatMessage",props:{as:{type:null,required:!1,default:"article"},icon:{type:null,required:!1},avatar:{type:Object,required:!1},variant:{type:null,required:!1},side:{type:null,required:!1},actions:{type:Array,required:!1},compact:{type:Boolean,required:!1},content:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!0},role:{type:String,required:!0},metadata:{type:null,required:!1},parts:{type:Array,required:!0}},setup(e){const t=e,r=z(),x=A(),n=C(()=>h({extend:h(E),...x.ui?.chatMessage||{}})({variant:t.variant,side:t.side,leading:!!t.icon||!!t.avatar||!!r.leading,actions:!!t.actions||!!r.actions,compact:t.compact}));return(u,F)=>(a(),d(b(j),{as:e.as,"data-role":e.role,"data-slot":"root",class:s(n.value.root({class:[t.ui?.root,t.class]}))},{default:f(()=>[S("div",{"data-slot":"container",class:s(n.value.container({class:t.ui?.container}))},[e.icon||e.avatar||r.leading?(a(),l("div",{key:0,"data-slot":"leading",class:s(n.value.leading({class:t.ui?.leading}))},[g(u.$slots,"leading",{avatar:e.avatar,ui:n.value},()=>[e.icon?(a(),d($,{key:0,name:e.icon,"data-slot":"leadingIcon",class:s(n.value.leadingIcon({class:t.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(a(),d(w,v({key:1,size:t.ui?.leadingAvatarSize||n.value.leadingAvatarSize()},e.avatar,{"data-slot":"leadingAvatar",class:n.value.leadingAvatar({class:t.ui?.leadingAvatar})}),null,16,["size","class"])):o("",!0)])],2)):o("",!0),e.content||e.parts.length||r.content?(a(),l("div",{key:1,"data-slot":"content",class:s(n.value.content({class:t.ui?.content}))},[g(u.$slots,"content",{id:e.id,role:e.role,content:e.content,parts:e.parts},()=>[e.content?(a(),l(c,{key:0},[y(k(e.content),1)],64)):(a(!0),l(c,{key:1},p(e.parts,(i,m)=>(a(),l(c,{key:`${e.id}-${i.type}-${m}`},[i.type==="text"?(a(),l(c,{key:0},[y(k(i.text),1)],64)):o("",!0)],64))),128))])],2)):o("",!0),e.actions||r.actions?(a(),l("div",{key:2,"data-slot":"actions",class:s(n.value.actions({class:t.ui?.actions}))},[g(u.$slots,"actions",{actions:e.actions},()=>[(a(!0),l(c,null,p(e.actions,(i,m)=>(a(),d(N,{key:m,text:i.label},{default:f(()=>[B(V,v({size:"sm",color:"neutral",variant:"ghost"},{ref_for:!0},b(I)(i,["onClick"]),{label:void 0,onClick:q=>typeof i.onClick=="function"?i.onClick(q,t):void 0}),null,16,["onClick"])]),_:2},1032,["text"]))),128))])],2)):o("",!0)],2)]),_:3},8,["as","data-role","class"]))}};export{J as default};
