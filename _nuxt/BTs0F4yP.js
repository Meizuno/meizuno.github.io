import{bv as j,Y as z,bw as h,bx as A,z as H,a4 as g,a5 as v,J as c,bJ as J,W as L,f as V,w as b,X as q,h as D,bI as E,E as F,ac as S,ad as B,bK as k,a7 as P,H as l,bu as K,az as N,a8 as M}from"./r87NNr1M.js";import W from"./B-DaPB6b.js";import X from"./Bj2qeLKX.js";import{u as Y}from"./TIw6p1_A.js";import{d as G}from"./BU9MBKOb.js";import{u as Q}from"./BRPqSEeL.js";import"./xO-2bJM1.js";import"./7cgco4TI.js";import"./C93hBZeB.js";import"./oRdeojoN.js";import"./CmU2bdSD.js";import"./DDDiGe6x.js";import"./CZvg1K4s.js";import"./kRIii9yh.js";import"./VdHJT7hv.js";import"./BqP0TK5s.js";import"./CuerbVKd.js";import"./CWqgYBZm.js";import"./BAuEbk08.js";import"./CwZk1OUt.js";import"./BCV4PXrQ.js";import"./IIVvundq.js";import"./Dt2rK7YK.js";import"./DvXkyWUv.js";import"./CkxLFSAh.js";import"./CupDS06r.js";const Z={slots:{modal:"",input:"[&>input]:text-base/5"},variants:{fullscreen:{false:{modal:"sm:max-w-3xl sm:h-[28rem]"}}}},Me={__name:"UDashboardSearch",props:j({icon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{open:{type:Boolean,default:!1},openModifiers:{},searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:open","update:searchTerm"],setup(i,{expose:x}){const e=i,I=z(),o=h(i,"open",{type:Boolean,default:!1}),d=h(i,"searchTerm",{type:String,default:""});Q("dashboard:search:toggle",()=>{o.value=!o.value});const{t:a}=A(),r=Y(),n=H(),T=g(v(e,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),R=g(v(e,"overlay","transition","content","dismissible","fullscreen","modal","portal")),U=()=>k(I,["content"]),w=c(()=>N({},e.fuse,{fuseOptions:{}})),m=c(()=>M({extend:M(Z),...n.ui?.dashboardSearch||{}})({fullscreen:e.fullscreen})),C=c(()=>{const t=[];return t.push(...e.groups||[]),e.colorMode&&!r?.forced&&t.push({id:"theme",label:a("dashboardSearch.theme"),items:[{label:a("colorMode.system"),icon:n.ui.icons.system,active:r.preference==="system",onSelect:()=>{r.preference="system"}},{label:a("colorMode.light"),icon:n.ui.icons.light,active:r.preference==="light",onSelect:()=>{r.preference="light"}},{label:a("colorMode.dark"),icon:n.ui.icons.dark,active:r.preference==="dark",onSelect:()=>{r.preference="dark"}}]}),t}),f=J("commandPaletteRef");function O(t){t.disabled||(o.value=!1,d.value="")}return G({[e.shortcut]:{usingInput:!0,handler:()=>o.value=!o.value}}),x({commandPaletteRef:f}),(t,s)=>(V(),L(X,P({open:o.value,"onUpdate:open":s[2]||(s[2]=p=>o.value=p),title:i.title||l(a)("dashboardSearch.title"),description:i.description||l(a)("dashboardSearch.description")},l(R),{"data-slot":"modal",class:m.value.modal({class:[e.ui?.modal,e.class]})}),{content:b(p=>[q(t.$slots,"content",S(B(p)),()=>[D(W,P({ref_key:"commandPaletteRef",ref:f,"search-term":d.value,"onUpdate:searchTerm":s[0]||(s[0]=u=>d.value=u)},l(T),{groups:C.value,fuse:w.value,ui:l(K)(l(k)(m.value,["modal"]),e.ui),"onUpdate:modelValue":O,"onUpdate:open":s[1]||(s[1]=u=>o.value=u)}),E({_:2},[F(U(),(u,y)=>({name:y,fn:b($=>[q(t.$slots,y,S(B($)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}};export{Me as default};
