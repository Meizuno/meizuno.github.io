import{t as E,s as B,g as C}from"./CssSCxdY.js";import{az as H,J as U}from"./BTXGmdcq.js";import{u as N}from"./kRIii9yh.js";function ke(e,t){const u=[];for(let l=0;l<e.length;l+=t)u.push(e.slice(l,l+t));return u}function $(e,t,u=!1){const l={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short",hourCycle:x(t),hour12:G(t)};return u&&(delete l.year,delete l.month,delete l.day),e==="day"&&(delete l.second,delete l.hour,delete l.minute,delete l.timeZoneName),e==="hour"&&(delete l.minute,delete l.second),e==="minute"&&delete l.second,l}function Ve(e){return H(e?.step,{year:1,month:1,day:1,hour:1,minute:1,second:1,millisecond:1})}function Se(e){const t=e.querySelector("[data-selected]");if(t)return t.focus();const u=e.querySelector("[data-today]");if(u)return u.focus();const l=e.querySelector("[data-reka-calendar-day]");if(l)return l.focus()}function x(e){if(e===24)return"h23";if(e===12)return"h11"}function G(e){if(e===24)return!1;if(e===12)return!0}const M=["day","month","year"],O=["hour","minute","second","dayPeriod"],W=[...M,...O];function q(e){return M.includes(e)}function K(e){return W.includes(e)}const Y=["ach","af","am","an","ar","ast","az","be","bg","bn","br","bs","ca","cak","ckb","cs","cy","da","de","dsb","el","en","eo","es","et","eu","fa","ff","fi","fr","fy","ga","gd","gl","he","hr","hsb","hu","ia","id","it","ja","ka","kk","kn","ko","lb","lo","lt","lv","meh","ml","ms","nl","nn","no","oc","pl","pt","rm","ro","ru","sc","scn","sk","sl","sr","sv","szl","tg","th","tr","uk","zh-CN","zh-TW"],J=["year","month","day"],P={ach:{year:"mwaka",month:"dwe",day:"nino"},af:{year:"jjjj",month:"mm",day:"dd"},am:{year:"ዓዓዓዓ",month:"ሚሜ",day:"ቀቀ"},an:{year:"aaaa",month:"mm",day:"dd"},ar:{year:"سنة",month:"شهر",day:"يوم"},ast:{year:"aaaa",month:"mm",day:"dd"},az:{year:"iiii",month:"aa",day:"gg"},be:{year:"гггг",month:"мм",day:"дд"},bg:{year:"гггг",month:"мм",day:"дд"},bn:{year:"yyyy",month:"মিমি",day:"dd"},br:{year:"bbbb",month:"mm",day:"dd"},bs:{year:"gggg",month:"mm",day:"dd"},ca:{year:"aaaa",month:"mm",day:"dd"},cak:{year:"jjjj",month:"ii",day:"q'q'"},ckb:{year:"ساڵ",month:"مانگ",day:"ڕۆژ"},cs:{year:"rrrr",month:"mm",day:"dd"},cy:{year:"bbbb",month:"mm",day:"dd"},da:{year:"åååå",month:"mm",day:"dd"},de:{year:"jjjj",month:"mm",day:"tt"},dsb:{year:"llll",month:"mm",day:"źź"},el:{year:"εεεε",month:"μμ",day:"ηη"},en:{year:"yyyy",month:"mm",day:"dd"},eo:{year:"jjjj",month:"mm",day:"tt"},es:{year:"aaaa",month:"mm",day:"dd"},et:{year:"aaaa",month:"kk",day:"pp"},eu:{year:"uuuu",month:"hh",day:"ee"},fa:{year:"سال",month:"ماه",day:"روز"},ff:{year:"hhhh",month:"ll",day:"ññ"},fi:{year:"vvvv",month:"kk",day:"pp"},fr:{year:"aaaa",month:"mm",day:"jj"},fy:{year:"jjjj",month:"mm",day:"dd"},ga:{year:"bbbb",month:"mm",day:"ll"},gd:{year:"bbbb",month:"mm",day:"ll"},gl:{year:"aaaa",month:"mm",day:"dd"},he:{year:"שנה",month:"חודש",day:"יום"},hr:{year:"gggg",month:"mm",day:"dd"},hsb:{year:"llll",month:"mm",day:"dd"},hu:{year:"éééé",month:"hh",day:"nn"},ia:{year:"aaaa",month:"mm",day:"dd"},id:{year:"tttt",month:"bb",day:"hh"},it:{year:"aaaa",month:"mm",day:"gg"},ja:{year:" 年 ",month:"月",day:"日"},ka:{year:"წწწწ",month:"თთ",day:"რრ"},kk:{year:"жжжж",month:"аа",day:"кк"},kn:{year:"ವವವವ",month:"ಮಿಮೀ",day:"ದಿದಿ"},ko:{year:"연도",month:"월",day:"일"},lb:{year:"jjjj",month:"mm",day:"dd"},lo:{year:"ປປປປ",month:"ດດ",day:"ວວ"},lt:{year:"mmmm",month:"mm",day:"dd"},lv:{year:"gggg",month:"mm",day:"dd"},meh:{year:"aaaa",month:"mm",day:"dd"},ml:{year:"വർഷം",month:"മാസം",day:"തീയതി"},ms:{year:"tttt",month:"mm",day:"hh"},nl:{year:"jjjj",month:"mm",day:"dd"},nn:{year:"åååå",month:"mm",day:"dd"},no:{year:"åååå",month:"mm",day:"dd"},oc:{year:"aaaa",month:"mm",day:"jj"},pl:{year:"rrrr",month:"mm",day:"dd"},pt:{year:"aaaa",month:"mm",day:"dd"},rm:{year:"oooo",month:"mm",day:"dd"},ro:{year:"aaaa",month:"ll",day:"zz"},ru:{year:"гггг",month:"мм",day:"дд"},sc:{year:"aaaa",month:"mm",day:"dd"},scn:{year:"aaaa",month:"mm",day:"jj"},sk:{year:"rrrr",month:"mm",day:"dd"},sl:{year:"llll",month:"mm",day:"dd"},sr:{year:"гггг",month:"мм",day:"дд"},sv:{year:"åååå",month:"mm",day:"dd"},szl:{year:"rrrr",month:"mm",day:"dd"},tg:{year:"сссс",month:"мм",day:"рр"},th:{year:"ปปปป",month:"ดด",day:"วว"},tr:{year:"yyyy",month:"aa",day:"gg"},uk:{year:"рррр",month:"мм",day:"дд"},"zh-CN":{year:"年",month:"月",day:"日"},"zh-TW":{year:"年",month:"月",day:"日"}};function Q(e){if(j(e))return P[e];{const t=te(e);return j(t)?P[t]:P.en}}function R(e,t,u){return X(e)?Q(u)[e]:ee(e)?t:p(e)?"––":""}function j(e){return Y.includes(e)}function X(e){return J.includes(e)}function p(e){return e==="hour"||e==="minute"||e==="second"}function ee(e){return e==="era"||e==="dayPeriod"}function te(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const ae=["hour","minute","second"];function ne(e){return Object.fromEntries(O.map(t=>t==="dayPeriod"?[t,e.formatter.dayPeriod(E(e.value))]:[t,e.value[t]]))}function Pe(e){const{formatter:t}=e,u=M.map(l=>[l,e.value[l]]);if("hour"in e.value){const l=ne({value:e.value,formatter:t});return{...Object.fromEntries(u),...l}}return Object.fromEntries(u)}function Re(e){return Object.fromEntries(O.map(t=>t==="dayPeriod"?[t,"AM"]:[t,null]).filter(([t])=>!(t==="literal"||t===null||e==="minute"&&t==="second"||e==="hour"&&(t==="second"||t==="minute"))))}function xe(e){const t=W.map(u=>u==="dayPeriod"?[u,"AM"]:[u,null]).filter(([u])=>u==="literal"||u===null||e==="minute"&&u==="second"||e==="hour"&&(u==="second"||u==="minute")?!1:e==="day"?!ae.includes(u)&&u!=="dayPeriod":!0);return Object.fromEntries(t)}function ue(e){const{segmentValues:t,formatter:u,locale:l}=e;function c(o){if("hour"in t){const s=t[o];return s!==null?o==="day"?u.part(e.dateRef.set({[o]:s,month:t.month??1}),o,{hourCycle:x(e.hourCycle)}):u.part(e.dateRef.set({[o]:s}),o,{hourCycle:x(e.hourCycle)}):R(o,"",l.value)}else{if(q(o)){const s=t[o];return s!==null?o==="day"?u.part(e.dateRef.set({[o]:s,month:t.month??1}),o):u.part(e.dateRef.set({[o]:s}),o):R(o,"",l.value)}return""}}return Object.keys(t).reduce((o,s)=>{if(!K(s))return o;if("hour"in t&&s==="dayPeriod"){const h=t[s];h!==null?o[s]=h:o[s]=R(s,"AM",l.value)}else o[s]=c(s);return o},{})}function le(e){const{granularity:t,formatter:u,contentObj:l,hideTimeZone:c,hourCycle:y,isTimeValue:o}=e;return u.toParts(e.dateRef,$(t,y,o)).map(v=>["literal","timeZoneName",null].includes(v.type)||!K(v.type)?{part:v.type,value:v.value}:{part:v.type,value:l[v.type]}).filter(v=>!(v.part===null||v.value===null||v.part==="timeZoneName"&&(!B(e.dateRef)||c)))}function Ne(e){const t=ue(e),u=le({contentObj:t,...e});return{obj:t,arr:u}}function A(e){const t=N();return e===t.ARROW_RIGHT||e===t.ARROW_LEFT}function k(e){return!Number.isNaN(Number.parseInt(e))}function g(e){const t=N();return!!([t.ENTER,t.ARROW_UP,t.ARROW_DOWN,t.ARROW_LEFT,t.ARROW_RIGHT,t.BACKSPACE,t.SPACE,"a","A","p","P"].includes(e)||k(e))}function Me(e){return Array.from(e.querySelectorAll("[data-reka-date-field-segment]")).filter(t=>t.getAttribute("data-reka-date-field-segment")!=="literal")}function Oe(e){return Array.from(e.querySelectorAll("[data-reka-time-field-segment]")).filter(t=>t.getAttribute("data-reka-time-field-segment")!=="literal")}function b(e){return{role:"spinbutton",contenteditable:!0,tabindex:e.disabled?void 0:0,spellcheck:!1,inputmode:"numeric",autocorrect:"off",enterkeyhint:"next",style:"caret-color: transparent;"}}function re(e){const{segmentValues:t,placeholder:u}=e,l=t.day===null,c=t.day?u.set({day:t.day}):u,y=c.day,o=1,s=C(c),h=l?"Empty":`${y}`;return{...b(e),"aria-label":"day,","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":y,"aria-valuetext":h,"data-placeholder":l?"":void 0}}function oe(e){const{segmentValues:t,placeholder:u,formatter:l}=e,c=t.month===null,y=t.month?u.set({month:t.month}):u,o=y.month,s=1,h=12,v=c?"Empty":`${o} - ${l.fullMonth(E(y))}`;return{...b(e),"aria-label":"month, ",contenteditable:!0,"aria-valuemin":s,"aria-valuemax":h,"aria-valuenow":o,"aria-valuetext":v,"data-placeholder":c?"":void 0}}function ie(e){const{segmentValues:t,placeholder:u}=e,l=t.year===null,c=t.year?u.set({year:t.year}):u,y=1,o=9999,s=c.year,h=l?"Empty":`${s}`;return{...b(e),"aria-label":"year, ","aria-valuemin":y,"aria-valuemax":o,"aria-valuenow":s,"aria-valuetext":h,"data-placeholder":l?"":void 0}}function se(e){const{segmentValues:t,hourCycle:u,placeholder:l}=e;if(!("hour"in t)||!("hour"in l))return{};const c=t.hour===null,y=t.hour?l.set({hour:t.hour}):l,o=u===12?1:0,s=u===12?12:23,h=y.hour,v=c?"Empty":`${h} ${t.dayPeriod??""}`;return{...b(e),"aria-label":"hour, ","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":h,"aria-valuetext":v,"data-placeholder":c?"":void 0}}function de(e){const{segmentValues:t,placeholder:u}=e;if(!("minute"in t)||!("minute"in u))return{};const l=t.minute===null,y=(t.minute?u.set({minute:t.minute}):u).minute,o=0,s=59,h=l?"Empty":`${y}`;return{...b(e),"aria-label":"minute, ","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":y,"aria-valuetext":h,"data-placeholder":l?"":void 0}}function me(e){const{segmentValues:t,placeholder:u}=e;if(!("second"in t)||!("second"in u))return{};const l=t.second===null,y=(t.second?u.set({second:t.second}):u).second,o=0,s=59,h=l?"Empty":`${y}`;return{...b(e),"aria-label":"second, ","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":y,"aria-valuetext":h,"data-placeholder":l?"":void 0}}function ce(e){const{segmentValues:t}=e;if(!("dayPeriod"in t))return{};const u=0,l=12,c=t.hour?t.hour>12?t.hour-12:t.hour:0,y=t.dayPeriod??"AM";return{...b(e),inputmode:"text","aria-label":"AM/PM","aria-valuemin":u,"aria-valuemax":l,"aria-valuenow":c,"aria-valuetext":y}}function ye(e){return{"aria-hidden":!0,"data-segment":"literal"}}function fe(e){return{role:"textbox","aria-label":"timezone, ","data-readonly":!0,"data-segment":"timeZoneName",tabindex:e.disabled?void 0:0,style:"caret-color: transparent;"}}function he(e){const{segmentValues:t,placeholder:u}=e,l=0,c=0,y=0,o="era"in t?t.era:u.era;return{...b(e),"aria-label":"era","aria-valuemin":l,"aria-valuemax":c,"aria-valuenow":y,"aria-valuetext":o}}const ve={day:{attrs:re},month:{attrs:oe},year:{attrs:ie},hour:{attrs:se},minute:{attrs:de},second:{attrs:me},dayPeriod:{attrs:ce},literal:{attrs:ye},timeZoneName:{attrs:fe},era:{attrs:he}};function Te(e){const t=N();function u({e:a,part:n,dateRef:i,prevValue:r}){const d=e.step.value[n]??1,m=a.key===t.ARROW_UP?d:-d,f=0,V=59;if(r===null)return m>0?f:V;const S=[n,m];return i.set({[n]:r}).cycle(...S)[n]}function l(a){if(e.hasLeftFocus.value=!1,a===null)return a;const n=a.toString();return n.length===1?(e.modelValue.value=void 0,null):Number.parseInt(n.slice(0,-1))}function c({e:a,part:n,dateRef:i,prevValue:r,hourCycle:d}){const m=e.step.value[n]??1,f=a.key===t.ARROW_UP?m:-m;if(r===null)return i[n];if(n==="hour"&&"hour"in i){const S=[n,f,{hourCycle:d}];return i.set({[n]:r}).cycle(...S)[n]}const V=[n,f];return n==="day"?i.set({[n]:r,month:e.segmentValues.value.month??1}).cycle(...V)[n]:i.set({[n]:r}).cycle(...V)[n]}function y(a,n,i){let r=!1;const d=Math.floor(a/10);if(e.hasLeftFocus.value&&(e.hasLeftFocus.value=!1,i=null),i===null)return n===0?(e.lastKeyZero.value=!0,{value:null,moveToNext:r}):((e.lastKeyZero.value||n>d)&&(r=!0),e.lastKeyZero.value=!1,{value:n,moveToNext:r});const m=i.toString().length,f=Number.parseInt(i.toString()+n.toString());return m===2||f>a?((n>d||f>a)&&(r=!0),{value:n,moveToNext:r}):(r=!0,{value:f,moveToNext:r})}function o(a,n){let r=!1;const d=Math.floor(59/10);if(e.hasLeftFocus.value&&(e.hasLeftFocus.value=!1,n=null),n===null)return a===0?(e.lastKeyZero.value=!0,{value:0,moveToNext:r}):((e.lastKeyZero.value||a>d)&&(r=!0),e.lastKeyZero.value=!1,{value:a,moveToNext:r});const m=n.toString().length,f=Number.parseInt(n.toString()+a.toString());return m===2||f>59?(a>d&&(r=!0),{value:a,moveToNext:r}):(r=!0,{value:f,moveToNext:r})}function s(a,n){let r=!1;const d=Math.floor(24/10);if(e.hasLeftFocus.value&&(e.hasLeftFocus.value=!1,n=null),n===null)return a===0?(e.lastKeyZero.value=!0,{value:0,moveToNext:r}):((e.lastKeyZero.value||a>d)&&(r=!0),e.lastKeyZero.value=!1,{value:a,moveToNext:r});const m=n.toString().length,f=Number.parseInt(n.toString()+a.toString());return m===2||f>24?(a>d&&(r=!0),{value:a,moveToNext:r}):(r=!0,{value:f,moveToNext:r})}function h(a,n){let i=!1;if(e.hasLeftFocus.value&&(e.hasLeftFocus.value=!1,n=null),n===null)return{value:a===0?1:a,moveToNext:i};const r=n.toString()+a.toString();return r.length>4?{value:a===0?1:a,moveToNext:i}:(r.length===4&&(i=!0),{value:Number.parseInt(r),moveToNext:i})}const v=U(()=>ve[e.part]?.attrs({disabled:e.disabled.value,placeholder:e.placeholder.value,hourCycle:e.hourCycle,segmentValues:e.segmentValues.value,formatter:e.formatter})??{});function T(a){if(!g(a.key)||A(a.key))return;const n=e.segmentValues.value.day;if(a.key===t.ARROW_DOWN||a.key===t.ARROW_UP){e.segmentValues.value.day=c({e:a,part:"day",dateRef:e.placeholder.value,prevValue:n});return}if(k(a.key)){const i=Number.parseInt(a.key),r=e.segmentValues.value.month,d=r?C(e.placeholder.value.set({month:r})):31,{value:m,moveToNext:f}=y(d,i,n);e.segmentValues.value.day=m,f&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.day=l(n))}function _(a){if(!g(a.key)||A(a.key))return;const n=e.segmentValues.value.month;if(a.key===t.ARROW_DOWN||a.key===t.ARROW_UP){e.segmentValues.value.month=c({e:a,part:"month",dateRef:e.placeholder.value,prevValue:n});return}if(k(a.key)){const i=Number.parseInt(a.key),{value:r,moveToNext:d}=y(12,i,n);e.segmentValues.value.month=r,d&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.month=l(n))}function w(a){if(!g(a.key)||A(a.key))return;const n=e.segmentValues.value.year;if(a.key===t.ARROW_DOWN||a.key===t.ARROW_UP){e.segmentValues.value.year=c({e:a,part:"year",dateRef:e.placeholder.value,prevValue:n});return}if(k(a.key)){const i=Number.parseInt(a.key),{value:r,moveToNext:d}=h(i,n);e.segmentValues.value.year=r,d&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.year=l(n))}function F(a){const n=e.placeholder.value;if(!g(a.key)||A(a.key)||!("hour"in n)||!("hour"in e.segmentValues.value))return;const i=e.segmentValues.value.hour,r=e.hourCycle;if(a.key===t.ARROW_UP||a.key===t.ARROW_DOWN){e.segmentValues.value.hour=c({e:a,part:"hour",dateRef:e.placeholder.value,prevValue:i,hourCycle:r}),"dayPeriod"in e.segmentValues.value&&(e.segmentValues.value.hour<12?e.segmentValues.value.dayPeriod="AM":e.segmentValues.value.hour&&(e.segmentValues.value.dayPeriod="PM"));return}if(k(a.key)){const d=Number.parseInt(a.key),{value:m,moveToNext:f}=s(d,i);"dayPeriod"in e.segmentValues.value&&m&&m>12?e.segmentValues.value.dayPeriod="PM":"dayPeriod"in e.segmentValues.value&&m&&(e.segmentValues.value.dayPeriod="AM"),e.segmentValues.value.hour=m,f&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.hour=l(i))}function L(a){const n=e.placeholder.value;if(!g(a.key)||A(a.key)||!("minute"in n)||!("minute"in e.segmentValues.value))return;const i=e.segmentValues.value.minute;if((a.key===t.ARROW_UP||a.key===t.ARROW_DOWN)&&(e.segmentValues.value.minute=u({e:a,part:"minute",dateRef:e.placeholder.value,prevValue:i})),k(a.key)){const r=Number.parseInt(a.key),{value:d,moveToNext:m}=o(r,i);e.segmentValues.value.minute=d,m&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.minute=l(i))}function D(a){const n=e.placeholder.value;if(!g(a.key)||A(a.key)||!("second"in n)||!("second"in e.segmentValues.value))return;const i=e.segmentValues.value.second;if((a.key===t.ARROW_UP||a.key===t.ARROW_DOWN)&&(e.segmentValues.value.second=u({e:a,part:"second",dateRef:e.placeholder.value,prevValue:i})),k(a.key)){const r=Number.parseInt(a.key),{value:d,moveToNext:m}=o(r,i);e.segmentValues.value.second=d,m&&e.focusNext()}a.key===t.BACKSPACE&&(e.hasLeftFocus.value=!1,e.segmentValues.value.second=l(i))}function I(a){if(!((!g(a.key)||A(a.key))&&a.key!=="a"&&a.key!=="p"||!("hour"in e.placeholder.value)||!("dayPeriod"in e.segmentValues.value))){if(a.key===t.ARROW_UP||a.key===t.ARROW_DOWN){if(e.segmentValues.value.dayPeriod==="AM"){e.segmentValues.value.dayPeriod="PM",e.segmentValues.value.hour=e.segmentValues.value.hour+12;return}e.segmentValues.value.dayPeriod="AM",e.segmentValues.value.hour=e.segmentValues.value.hour-12;return}if(["a","A"].includes(a.key)&&e.segmentValues.value.dayPeriod!=="AM"){e.segmentValues.value.dayPeriod="AM",e.segmentValues.value.hour=e.segmentValues.value.hour-12;return}["p","P"].includes(a.key)&&e.segmentValues.value.dayPeriod!=="PM"&&(e.segmentValues.value.dayPeriod="PM",e.segmentValues.value.hour=e.segmentValues.value.hour+12)}}function Z(a){e.disabled.value&&a.preventDefault()}function z(a){const n=e.disabled.value,i=e.readonly.value;if(a.key!==t.TAB&&a.preventDefault(),n||i)return;if({day:T,month:_,year:w,hour:F,minute:L,second:D,dayPeriod:I,timeZoneName:()=>{}}[e.part](a),![t.ARROW_LEFT,t.ARROW_RIGHT].includes(a.key)&&a.key!==t.TAB&&a.key!==t.SHIFT&&g(a.key)&&Object.values(e.segmentValues.value).every(d=>d!==null)){const d={...e.segmentValues.value};let m=e.placeholder.value.copy();Object.keys(d).forEach(f=>{const V=d[f];m=m.set({[f]:V})}),e.modelValue.value=m.copy()}}return{handleSegmentClick:Z,handleSegmentKeydown:z,attributes:v}}export{Ve as a,Ne as b,ke as c,A as d,Oe as e,Re as f,Me as g,Se as h,xe as i,ne as j,x as n,Pe as s,Te as u};
