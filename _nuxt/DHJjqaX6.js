import{O as C,Y as N,bx as D,z as E,J,bJ as F,r as K,W as m,f as s,w as f,e as v,g as p,i as L,X as i,n as y,K as T,B as O,t as S,F as U,E as A,G as V,a7 as c,bI as Y,h as B,H as h,ab as G,a8 as I,bY as P,bK as q}from"./r87NNr1M.js";import H from"./B0PTyYLA.js";import W from"./Cv1u22Ek.js";import X from"./XQofDa6I.js";import{_ as M}from"./BycxLLwW.js";import Q from"./Cyw4lFzT.js";import R from"./BAuEbk08.js";import Z from"./S8mICaKe.js";import"./BWctygu2.js";import"./CuerbVKd.js";import"./Cxg_cQlV.js";import"./Dqqhn0Yy.js";import"./CZvg1K4s.js";import"./DOd1M086.js";import"./7cgco4TI.js";import"./CmU2bdSD.js";import"./DysAHfM5.js";import"./DDDiGe6x.js";import"./VdHJT7hv.js";import"./3TacxddU.js";import"./CkL-Al-B.js";import"./Dt2rK7YK.js";import"./DvXkyWUv.js";import"./xO-2bJM1.js";import"./C93hBZeB.js";import"./oRdeojoN.js";import"./kRIii9yh.js";import"./BqP0TK5s.js";import"./CkxLFSAh.js";import"./CWqgYBZm.js";import"./C6Y-ieo6.js";const _={slots:{root:"w-full space-y-6",header:"flex flex-col text-center",leading:"mb-2",leadingIcon:"size-8 shrink-0 inline-block",title:"text-xl text-pretty font-semibold text-highlighted",description:"mt-1 text-base text-pretty text-muted",body:"gap-y-6 flex flex-col",providers:"space-y-3",checkbox:"",select:"w-full",password:"w-full",otp:"w-full",input:"w-full",separator:"",form:"space-y-5",footer:"text-sm text-center text-muted mt-2"}},Be=Object.assign({inheritAttrs:!1},{__name:"UAuthForm",props:{as:{type:null,required:!1},icon:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},fields:{type:Array,required:!1},providers:{type:Array,required:!1},separator:{type:[String,Object],required:!1,default:"or"},submit:{type:Object,required:!1},schema:{type:null,required:!1},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1},validateOnInputDelay:{type:Number,required:!1},disabled:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},class:{type:null,required:!1},onSubmit:{type:Function,required:!1},ui:{type:null,required:!1}},emits:["submit"],setup(a,{expose:j}){const l=a,n=C((l.fields||[]).reduce((t,u)=>(u.name&&(t[u.name]=u.defaultValue),t),{})),r=N(),{t:k}=D(),$=E(),o=J(()=>I({extend:I(_),...$.ui?.authForm||{}})()),w=F("formRef"),b=K(!1),x=F("passwordRef");function z(t){const u=["name","errorPattern","help","error","hint","size","required","eagerValidation","validateOnInputDelay"];return t.type==="checkbox"?P(t,u):P(t,[...u,"label","description"])}function g(t){const u=["errorPattern","help","error","hint","size","required","eagerValidation","validateOnInputDelay"];return t.type==="checkbox"||t.type==="select"||t.type==="otp"?t.type==="checkbox"?q(t,[...u,"type"]):q(t,[...u,"type","label","description"]):q(t,[...u,"label","description"])}return j({formRef:w,state:n}),(t,u)=>(s(),m(h(G),{as:a.as,"data-slot":"root",class:y(o.value.root({class:[l.ui?.root,l.class]}))},{default:f(()=>[a.icon||r.leading||a.title||r.title||a.description||r.description||r.header?(s(),v("div",{key:0,"data-slot":"header",class:y(o.value.header({class:l.ui?.header}))},[i(t.$slots,"header",{},()=>[a.icon||r.leading?(s(),v("div",{key:0,"data-slot":"leading",class:y(o.value.leading({class:l.ui?.leading}))},[i(t.$slots,"leading",{ui:o.value},()=>[a.icon?(s(),m(T,{key:0,name:a.icon,"data-slot":"leadingIcon",class:y(o.value.leadingIcon({class:l.ui?.leadingIcon}))},null,8,["name","class"])):p("",!0)])],2)):p("",!0),a.title||r.title?(s(),v("div",{key:1,"data-slot":"title",class:y(o.value.title({class:l.ui?.title}))},[i(t.$slots,"title",{},()=>[O(S(a.title),1)])],2)):p("",!0),a.description||r.description?(s(),v("div",{key:2,"data-slot":"description",class:y(o.value.description({class:l.ui?.description}))},[i(t.$slots,"description",{},()=>[O(S(a.description),1)])],2)):p("",!0)])],2)):p("",!0),L("div",{"data-slot":"body",class:y(o.value.body({class:l.ui?.body}))},[a.providers?.length||r.providers?(s(),v("div",{key:0,"data-slot":"providers",class:y(o.value.providers({class:l.ui?.providers}))},[i(t.$slots,"providers",{},()=>[(s(!0),v(U,null,A(a.providers,(e,d)=>(s(),m(V,c({key:d,block:"",color:"neutral",variant:"subtle"},{ref_for:!0},e),null,16))),128))])],2)):p("",!0),a.providers?.length&&a.fields?.length?(s(),m(H,c({key:1},typeof a.separator=="object"?a.separator:{label:a.separator},{"data-slot":"separator",class:o.value.separator({class:l.ui?.separator})}),null,16,["class"])):p("",!0),a.fields?.length?(s(),m(W,c({key:2,ref_key:"formRef",ref:w,state:n,schema:a.schema,validate:a.validate,"validate-on":a.validateOn,disabled:a.disabled,"loading-auto":a.loadingAuto,"data-slot":"form",class:o.value.form({class:l.ui?.form})},t.$attrs,{onSubmit:a.onSubmit}),{default:f(()=>[(s(!0),v(U,null,A(a.fields,e=>(s(),m(X,c({key:e.name},{ref_for:!0},z(e)),Y({default:f(()=>[i(t.$slots,`${e.name}-field`,c({ref_for:!0},{state:n,field:e}),()=>[e.type==="checkbox"?(s(),m(M,c({key:0,modelValue:n[e.name],"onUpdate:modelValue":d=>n[e.name]=d,"data-slot":"checkbox",class:o.value.checkbox({class:l.ui?.checkbox})},{ref_for:!0},g(e)),null,16,["modelValue","onUpdate:modelValue","class"])):e.type==="select"?(s(),m(Q,c({key:1,modelValue:n[e.name],"onUpdate:modelValue":d=>n[e.name]=d,"data-slot":"select",class:o.value.select({class:l.ui?.select})},{ref_for:!0},g(e)),null,16,["modelValue","onUpdate:modelValue","class"])):e.type==="otp"?(s(),m(Z,c({key:2,id:e.name,modelValue:n[e.name],"onUpdate:modelValue":d=>n[e.name]=d,"data-slot":"otp",class:o.value.otp({class:l.ui?.otp})},{ref_for:!0},Object.assign({},g(e),typeof e.otp=="object"?e.otp:{}),{otp:""}),null,16,["id","modelValue","onUpdate:modelValue","class"])):e.type==="password"?(s(),m(R,c({key:3,ref_for:!0,ref_key:"passwordRef",ref:x,modelValue:n[e.name],"onUpdate:modelValue":d=>n[e.name]=d,"data-slot":"password",class:o.value.password({class:l.ui?.password})},{ref_for:!0},g(e),{type:b.value?"text":"password"}),{trailing:f(()=>[B(V,{color:"neutral",variant:"link",size:"sm",icon:b.value?h($).ui.icons.eyeOff:h($).ui.icons.eye,"aria-label":b.value?h(k)("authForm.hidePassword"):h(k)("authForm.showPassword"),"aria-pressed":b.value,"aria-controls":x.value?.[0]?.inputRef?.id,onClick:u[0]||(u[0]=d=>b.value=!b.value)},null,8,["icon","aria-label","aria-pressed","aria-controls"])]),_:1},16,["modelValue","onUpdate:modelValue","class","type"])):(s(),m(R,c({key:4,modelValue:n[e.name],"onUpdate:modelValue":d=>n[e.name]=d,"data-slot":"input",class:o.value.input({class:l.ui?.input})},{ref_for:!0},g(e)),null,16,["modelValue","onUpdate:modelValue","class"]))])]),_:2},[r[`${e.name}-label`]?{name:"label",fn:f(()=>[i(t.$slots,`${e.name}-label`)]),key:"0"}:void 0,r[`${e.name}-description`]?{name:"description",fn:f(()=>[i(t.$slots,`${e.name}-description`)]),key:"1"}:void 0,r[`${e.name}-hint`]?{name:"hint",fn:f(()=>[i(t.$slots,`${e.name}-hint`)]),key:"2"}:void 0,r[`${e.name}-help`]?{name:"help",fn:f(()=>[i(t.$slots,`${e.name}-help`)]),key:"3"}:void 0,r[`${e.name}-error`]?{name:"error",fn:f(()=>[i(t.$slots,`${e.name}-error`)]),key:"4"}:void 0]),1040))),128)),r.validation?i(t.$slots,"validation",{key:0}):p("",!0),i(t.$slots,"submit",{loading:a.loading},()=>[B(V,c({type:"submit",label:h(k)("authForm.submit"),block:"",loading:a.loading,"loading-auto":a.loadingAuto},a.submit),null,16,["label","loading","loading-auto"])])]),_:3},16,["state","schema","validate","validate-on","disabled","loading-auto","class","onSubmit"])):p("",!0)],2),r.footer?(s(),v("div",{key:1,"data-slot":"footer",class:y(o.value.footer({class:l.ui?.footer}))},[i(t.$slots,"footer")],2)):p("",!0)]),_:3},8,["as","class"]))}});export{Be as default};
