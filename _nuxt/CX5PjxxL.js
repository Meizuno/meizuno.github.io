import{C as Oe,V as L,e as C,w as _,W as N,a6 as T,G as v,a2 as Pe,r as Ie,O as pe,J as G,ae as j,c9 as me,X as Ne,cK as ze,a8 as Ke,y as je,a3 as He,a4 as Ae,ap as Ve,cN as We,g as W,d as P,f as H,aC as Ge,bE as qe,E as ve,F as ie,D as ne,n as F,a5 as Z,A as ye,t as re,dj as Ue,Z as Ye,aM as Je,aO as Qe,h as ae,I as J,a9 as Xe,dm as Ze,a7 as be,aL as et}from"./Bj_2PUGZ.js";import tt from"./BaoJXKqw.js";import st from"./BqxeEt21.js";import{i as it,_ as nt,a as rt,b as at,c as ut,d as lt,e as ct}from"./LQ2Aix22.js";import"./BIXLQs-b.js";import"./Cb0IB4V5.js";import"./SreUQp1P.js";import"./BBRDr9Dl.js";import"./Dh5C_-mb.js";import"./By95oEpp.js";import"./sOYtewMC.js";import"./kRIii9yh.js";import"./Cs2Yf45o.js";const ot=Oe({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=it({id:""});return(n,r)=>(C(),L(v(Pe),T(e,{id:v(t).id}),{default:_(()=>[N(n.$slots,"default")]),_:3},16,["id"]))}});function z(s){return Array.isArray?Array.isArray(s):Se(s)==="[object Array]"}function ht(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function dt(s){return s==null?"":ht(s)}function R(s){return typeof s=="string"}function Le(s){return typeof s=="number"}function ft(s){return s===!0||s===!1||gt(s)&&Se(s)=="[object Boolean]"}function ke(s){return typeof s=="object"}function gt(s){return ke(s)&&s!==null}function S(s){return s!=null}function ue(s){return!s.trim().length}function Se(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const pt="Incorrect 'index' type",mt=s=>`Invalid value for key ${s}`,At=s=>`Pattern length exceeds max of ${s}.`,vt=s=>`Missing ${s} property in key`,yt=s=>`Property 'weight' in key '${s}' must be a positive integer`,Ce=Object.prototype.hasOwnProperty;class bt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let r=De(n);this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function De(s){let e=null,t=null,n=null,r=1,i=null;if(R(s)||z(s))n=s,e=xe(s),t=le(s);else{if(!Ce.call(s,"name"))throw new Error(vt("name"));const a=s.name;if(n=a,Ce.call(s,"weight")&&(r=s.weight,r<=0))throw new Error(yt(a));e=xe(a),t=le(a),i=s.getFn}return{path:e,id:t,weight:r,src:n,getFn:i}}function xe(s){return z(s)?s:s.split(".")}function le(s){return z(s)?s.join("."):s}function Ct(s,e){let t=[],n=!1;const r=(i,a,u)=>{if(S(i))if(!a[u])t.push(i);else{let o=a[u];const h=i[o];if(!S(h))return;if(u===a.length-1&&(R(h)||Le(h)||ft(h)))t.push(dt(h));else if(z(h)){n=!0;for(let l=0,g=h.length;l<g;l+=1)r(h[l],a,u+1)}else a.length&&r(h,a,u+1)}};return r(s,R(e)?e.split("."):e,0),n?t:t[0]}const xt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Et={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Bt={location:0,threshold:.6,distance:100},Ft={useExtendedSearch:!1,getFn:Ct,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var d={...Et,...xt,...Bt,...Ft};const Mt=/[^ ]+/g;function It(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(r){const i=r.match(Mt).length;if(t.has(i))return t.get(i);const a=1/Math.pow(i,.5*s),u=parseFloat(Math.round(a*n)/n);return t.set(i,u),u},clear(){t.clear()}}}class ge{constructor({getFn:e=d.getFn,fieldNormWeight:t=d.fieldNormWeight}={}){this.norm=It(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,R(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();R(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!S(e)||ue(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((r,i)=>{let a=r.getFn?r.getFn(e):this.getFn(e,r.path);if(S(a)){if(z(a)){let u=[];const o=[{nestedArrIndex:-1,value:a}];for(;o.length;){const{nestedArrIndex:h,value:l}=o.pop();if(S(l))if(R(l)&&!ue(l)){let g={v:l,i:h,n:this.norm.get(l)};u.push(g)}else z(l)&&l.forEach((g,f)=>{o.push({nestedArrIndex:f,value:g})})}n.$[i]=u}else if(R(a)&&!ue(a)){let u={v:a,n:this.norm.get(a)};n.$[i]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function _e(s,e,{getFn:t=d.getFn,fieldNormWeight:n=d.fieldNormWeight}={}){const r=new ge({getFn:t,fieldNormWeight:n});return r.setKeys(s.map(De)),r.setSources(e),r.create(),r}function Lt(s,{getFn:e=d.getFn,fieldNormWeight:t=d.fieldNormWeight}={}){const{keys:n,records:r}=s,i=new ge({getFn:e,fieldNormWeight:t});return i.setKeys(n),i.setIndexRecords(r),i}function ee(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:r=d.distance,ignoreLocation:i=d.ignoreLocation}={}){const a=e/s.length;if(i)return a;const u=Math.abs(n-t);return r?a+u/r:u?1:a}function kt(s=[],e=d.minMatchCharLength){let t=[],n=-1,r=-1,i=0;for(let a=s.length;i<a;i+=1){let u=s[i];u&&n===-1?n=i:!u&&n!==-1&&(r=i-1,r-n+1>=e&&t.push([n,r]),n=-1)}return s[i-1]&&i-n>=e&&t.push([n,i-1]),t}const q=32;function St(s,e,t,{location:n=d.location,distance:r=d.distance,threshold:i=d.threshold,findAllMatches:a=d.findAllMatches,minMatchCharLength:u=d.minMatchCharLength,includeMatches:o=d.includeMatches,ignoreLocation:h=d.ignoreLocation}={}){if(e.length>q)throw new Error(At(q));const l=e.length,g=s.length,f=Math.max(0,Math.min(n,g));let m=i,y=f;const M=u>1||o,k=M?Array(g):[];let $;for(;($=s.indexOf(e,y))>-1;){let I=ee(e,{currentLocation:$,expectedLocation:f,distance:r,ignoreLocation:h});if(m=Math.min(I,m),y=$+l,M){let p=0;for(;p<l;)k[$+p]=1,p+=1}}y=-1;let D=[],w=1,O=l+g;const Q=1<<l-1;for(let I=0;I<l;I+=1){let p=0,b=O;for(;p<b;)ee(e,{errors:I,currentLocation:f+b,expectedLocation:f,distance:r,ignoreLocation:h})<=m?p=b:O=b,b=Math.floor((O-p)/2+p);O=b;let A=Math.max(1,f-b+1),c=a?g:Math.min(f+b,g)+l,x=Array(c+2);x[c+1]=(1<<I)-1;for(let B=c;B>=A;B-=1){let K=B-1,X=t[s.charAt(K)];if(M&&(k[K]=+!!X),x[B]=(x[B+1]<<1|1)&X,I&&(x[B]|=(D[B+1]|D[B])<<1|1|D[B+1]),x[B]&Q&&(w=ee(e,{errors:I,currentLocation:K,expectedLocation:f,distance:r,ignoreLocation:h}),w<=m)){if(m=w,y=K,y<=f)break;A=Math.max(1,2*f-y)}}if(ee(e,{errors:I+1,currentLocation:f,expectedLocation:f,distance:r,ignoreLocation:h})>m)break;D=x}const Y={isMatch:y>=0,score:Math.max(.001,w)};if(M){const I=kt(k,u);I.length?o&&(Y.indices=I):Y.isMatch=!1}return Y}function Dt(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const r=s.charAt(t);e[r]=(e[r]||0)|1<<n-t-1}return e}const te=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class $e{constructor(e,{location:t=d.location,threshold:n=d.threshold,distance:r=d.distance,includeMatches:i=d.includeMatches,findAllMatches:a=d.findAllMatches,minMatchCharLength:u=d.minMatchCharLength,isCaseSensitive:o=d.isCaseSensitive,ignoreDiacritics:h=d.ignoreDiacritics,ignoreLocation:l=d.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:o,ignoreDiacritics:h,ignoreLocation:l},e=o?e:e.toLowerCase(),e=h?te(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const g=(m,y)=>{this.chunks.push({pattern:m,alphabet:Dt(m),startIndex:y})},f=this.pattern.length;if(f>q){let m=0;const y=f%q,M=f-y;for(;m<M;)g(this.pattern.substr(m,q),m),m+=q;if(y){const k=f-q;g(this.pattern.substr(k),k)}}else g(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?te(e):e,this.pattern===e){let M={isMatch:!0,score:0};return r&&(M.indices=[[0,e.length-1]]),M}const{location:i,distance:a,threshold:u,findAllMatches:o,minMatchCharLength:h,ignoreLocation:l}=this.options;let g=[],f=0,m=!1;this.chunks.forEach(({pattern:M,alphabet:k,startIndex:$})=>{const{isMatch:D,score:w,indices:O}=St(e,M,k,{location:i+$,distance:a,threshold:u,findAllMatches:o,minMatchCharLength:h,includeMatches:r,ignoreLocation:l});D&&(m=!0),f+=w,D&&O&&(g=[...g,...O])});let y={isMatch:m,score:m?f/this.chunks.length:1};return m&&r&&(y.indices=g),y}}class V{constructor(e){this.pattern=e}static isMultiMatch(e){return Ee(e,this.multiRegex)}static isSingleMatch(e){return Ee(e,this.singleRegex)}search(){}}function Ee(s,e){const t=s.match(e);return t?t[1]:null}class _t extends V{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class $t extends V{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class wt extends V{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Tt extends V{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Rt extends V{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Ot extends V{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class we extends V{constructor(e,{location:t=d.location,threshold:n=d.threshold,distance:r=d.distance,includeMatches:i=d.includeMatches,findAllMatches:a=d.findAllMatches,minMatchCharLength:u=d.minMatchCharLength,isCaseSensitive:o=d.isCaseSensitive,ignoreDiacritics:h=d.ignoreDiacritics,ignoreLocation:l=d.ignoreLocation}={}){super(e),this._bitapSearch=new $e(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:o,ignoreDiacritics:h,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Te extends V{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const r=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,r.push([n,t-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const ce=[_t,Te,wt,Tt,Ot,Rt,$t,we],Be=ce.length,Pt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Nt="|";function zt(s,e={}){return s.split(Nt).map(t=>{let n=t.trim().split(Pt).filter(i=>i&&!!i.trim()),r=[];for(let i=0,a=n.length;i<a;i+=1){const u=n[i];let o=!1,h=-1;for(;!o&&++h<Be;){const l=ce[h];let g=l.isMultiMatch(u);g&&(r.push(new l(g,e)),o=!0)}if(!o)for(h=-1;++h<Be;){const l=ce[h];let g=l.isSingleMatch(u);if(g){r.push(new l(g,e));break}}}return r})}const Kt=new Set([we.type,Te.type]);class jt{constructor(e,{isCaseSensitive:t=d.isCaseSensitive,ignoreDiacritics:n=d.ignoreDiacritics,includeMatches:r=d.includeMatches,minMatchCharLength:i=d.minMatchCharLength,ignoreLocation:a=d.ignoreLocation,findAllMatches:u=d.findAllMatches,location:o=d.location,threshold:h=d.threshold,distance:l=d.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:u,ignoreLocation:a,location:o,threshold:h,distance:l},e=t?e:e.toLowerCase(),e=n?te(e):e,this.pattern=e,this.query=zt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?te(e):e;let a=0,u=[],o=0;for(let h=0,l=t.length;h<l;h+=1){const g=t[h];u.length=0,a=0;for(let f=0,m=g.length;f<m;f+=1){const y=g[f],{isMatch:M,indices:k,score:$}=y.search(e);if(M){if(a+=1,o+=$,n){const D=y.constructor.type;Kt.has(D)?u=[...u,...k]:u.push(k)}}else{o=0,a=0,u.length=0;break}}if(a){let f={isMatch:!0,score:o/a};return n&&(f.indices=u),f}}return{isMatch:!1,score:1}}}const oe=[];function Ht(...s){oe.push(...s)}function he(s,e){for(let t=0,n=oe.length;t<n;t+=1){let r=oe[t];if(r.condition(s,e))return new r(s,e)}return new $e(s,e)}const se={AND:"$and",OR:"$or"},de={PATH:"$path",PATTERN:"$val"},fe=s=>!!(s[se.AND]||s[se.OR]),Vt=s=>!!s[de.PATH],Wt=s=>!z(s)&&ke(s)&&!fe(s),Fe=s=>({[se.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Re(s,e,{auto:t=!0}={}){const n=r=>{let i=Object.keys(r);const a=Vt(r);if(!a&&i.length>1&&!fe(r))return n(Fe(r));if(Wt(r)){const o=a?r[de.PATH]:i[0],h=a?r[de.PATTERN]:r[o];if(!R(h))throw new Error(mt(o));const l={keyId:le(o),pattern:h};return t&&(l.searcher=he(h,e)),l}let u={children:[],operator:i[0]};return i.forEach(o=>{const h=r[o];z(h)&&h.forEach(l=>{u.children.push(n(l))})}),u};return fe(s)||(s=Fe(s)),n(s)}function Gt(s,{ignoreFieldNorm:e=d.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:r,norm:i,score:a})=>{const u=r?r.weight:null;n*=Math.pow(a===0&&u?Number.EPSILON:a,(u||1)*(e?1:i))}),t.score=n})}function qt(s,e){const t=s.matches;e.matches=[],S(t)&&t.forEach(n=>{if(!S(n.indices)||!n.indices.length)return;const{indices:r,value:i}=n;let a={indices:r,value:i};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),e.matches.push(a)})}function Ut(s,e){e.score=s.score}function Yt(s,e,{includeMatches:t=d.includeMatches,includeScore:n=d.includeScore}={}){const r=[];return t&&r.push(qt),n&&r.push(Ut),s.map(i=>{const{idx:a}=i,u={item:e[a],refIndex:a};return r.length&&r.forEach(o=>{o(i,u)}),u})}class U{constructor(e,t={},n){this.options={...d,...t},this.options.useExtendedSearch,this._keyStore=new bt(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ge))throw new Error(pt);this._myIndex=t||_e(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){S(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:u}=this.options;let o=R(e)?R(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Gt(o,{ignoreFieldNorm:u}),i&&o.sort(a),Le(t)&&t>-1&&(o=o.slice(0,t)),Yt(o,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=he(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:i,i:a,n:u})=>{if(!S(i))return;const{isMatch:o,score:h,indices:l}=t.searchIn(i);o&&r.push({item:i,idx:a,matches:[{score:h,value:i,norm:u,indices:l}]})}),r}_searchLogical(e){const t=Re(e,this.options),n=(u,o,h)=>{if(!u.children){const{keyId:g,searcher:f}=u,m=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(o,g),searcher:f});return m&&m.length?[{idx:h,item:o,matches:m}]:[]}const l=[];for(let g=0,f=u.children.length;g<f;g+=1){const m=u.children[g],y=n(m,o,h);if(y.length)l.push(...y);else if(u.operator===se.AND)return[]}return l},r=this._myIndex.records,i={},a=[];return r.forEach(({$:u,i:o})=>{if(S(u)){let h=n(t,u,o);h.length&&(i[o]||(i[o]={idx:o,item:u,matches:[]},a.push(i[o])),h.forEach(({matches:l})=>{i[o].matches.push(...l)}))}}),a}_searchObjectList(e){const t=he(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:a,i:u})=>{if(!S(a))return;let o=[];n.forEach((h,l)=>{o.push(...this._findMatches({key:h,value:a[l],searcher:t}))}),o.length&&i.push({idx:u,item:a,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!S(t))return[];let r=[];if(z(t))t.forEach(({v:i,i:a,n:u})=>{if(!S(i))return;const{isMatch:o,score:h,indices:l}=n.searchIn(i);o&&r.push({score:h,key:e,value:i,idx:a,norm:u,indices:l})});else{const{v:i,n:a}=t,{isMatch:u,score:o,indices:h}=n.searchIn(i);u&&r.push({score:o,key:e,value:i,norm:a,indices:h})}return r}}U.version="7.1.0";U.createIndex=_e;U.parseIndex=Lt;U.config=d;U.parseQuery=Re;Ht(jt);function Jt(s,e,t){const n=()=>{var a,u;return new U((a=j(e))!=null?a:[],(u=j(t))==null?void 0:u.fuseOptions)},r=Ie(n());pe(()=>{var a;return(a=j(t))==null?void 0:a.fuseOptions},()=>{r.value=n()},{deep:!0}),pe(()=>j(e),a=>{r.value.setCollection(a)},{deep:!0});const i=G(()=>{const a=j(t);if(a?.matchAllWhenSearchEmpty&&!j(s))return j(e).map((o,h)=>({item:o,refIndex:h}));const u=a?.resultLimit;return r.value.search(j(s),u?{limit:u}:void 0)});return{fuse:r,results:i}}function Qt(s,e){let t="",n=0,r=!1;for(let i=s.length-1;i>=0;i--){if(s[i]===">")r=!0;else if(s[i]==="<"){r=!1,t=s[i]+t;continue}if(r||n++,n<=e)t=s[i]+t;else{t="..."+t;break}}return t}function Me(s,e,t,n){function r(i,a=[]){i=i||"";let u="",o=0;a.forEach(l=>{if(l.length===2&&l[0]===l[1])return;const g=l[1]+1,f=g-l[0]>=e.length;u+=[i.substring(o,l[0]),f&&"<mark>",i.substring(l[0],g),f&&"</mark>"].filter(Boolean).join(""),o=g}),u+=i.substring(o);const h=u.indexOf("<mark>");return h!==-1&&(u=Qt(u,u.length-h)),u}if(s.matches?.length){for(const i of s.matches)if(!(t&&i.key!==t)&&!n?.includes(i.key))return r(i.value,i.indices)}}const Xt={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},Zt=["innerHTML"],es=["innerHTML"],gs={__name:"UCommandPalette",props:me({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},trailingIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:me(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,r=Ne(),i=ze(s,"searchTerm",{type:String,default:""}),{t:a}=Ke(),u=je(),o=He(Ae(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover","selectionBehavior"),n),h=Ve(Ae(t,"loading","loadingIcon")),l=G(()=>be({extend:be(Xt),...u.ui?.commandPalette||{}})()),g=G(()=>et({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),f=Ie([]),m=G(()=>f.value[f.value.length-1]?.placeholder||t.placeholder||a("commandPalette.placeholder")),y=G(()=>f.value?.length?[f.value[f.value.length-1]]:t.groups),M=G(()=>y.value?.filter(p=>p.id?!p.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(p=>p.items?.map(b=>({...b,group:p.id}))||[])||[]),{results:k}=Jt(i,M,g);function $(p,b){return p?.postFilter&&typeof p.postFilter=="function"&&(b=p.postFilter(i.value,b)),{...p,items:b.slice(0,g.value.resultLimit).map(A=>({...A,labelHtml:Me(A,i.value,t.labelKey),suffixHtml:Me(A,i.value,void 0,[t.labelKey])}))}}const D=G(()=>{const p=k.value.reduce((c,x)=>{const{item:E,matches:B}=x;return E.group&&(c[E.group]||=[],c[E.group]?.push({...E,matches:B})),c},{}),b=Object.entries(p).map(([c,x])=>{const E=y.value?.find(B=>B.id===c);if(E)return $(E,x)}).filter(c=>!!c);return(y.value?.map((c,x)=>({...c,index:x}))?.filter(c=>c.ignoreFilter&&c.items?.length)?.map(c=>({...$(c,c.items||[]),index:c.index}))||[]).reduce((c,x)=>(c.splice(x.index,0,x),c),[...b])}),w=We("listboxRootRef");function O(p){p.children?.length&&(f.value.push({id:`history-${f.value.length}`,label:p.label,slot:p.slot,placeholder:p.placeholder,items:p.children}),i.value="",w.value?.highlightFirstItem())}function Q(){f.value.length&&(f.value.pop(),i.value="",w.value?.highlightFirstItem())}function Y(){i.value||Q()}function I(p,b){b.children?.length?(p.preventDefault(),O(b)):b.onSelect?.(p)}return(p,b)=>(C(),L(v(ct),T(v(o),{ref_key:"listboxRootRef",ref:w,class:l.value.root({class:[t.ui?.root,t.class]})}),{default:_(()=>[W(v(nt),{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=A=>i.value=A),"as-child":""},{default:_(()=>[W(tt,T({placeholder:m.value,variant:"none",autofocus:s.autofocus},v(h),{icon:s.icon||v(u).ui.icons.search,class:l.value.input({class:t.ui?.input}),onKeydown:Ge(Y,["backspace"])}),qe({_:2},[f.value?.length&&(s.back||r.back)?{name:"leading",fn:_(()=>[N(p.$slots,"back",{ui:l.value},()=>[W(ve,T({icon:s.backIcon||v(u).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":v(a)("commandPalette.back")},typeof s.back=="object"?s.back:{},{class:l.value.back({class:t.ui?.back}),onClick:Q}),null,16,["icon","aria-label","class"])])]),key:"0"}:void 0,s.close||r.close?{name:"trailing",fn:_(()=>[N(p.$slots,"close",{ui:l.value},()=>[s.close?(C(),L(ve,T({key:0,icon:s.closeIcon||v(u).ui.icons.close,color:"neutral",variant:"ghost","aria-label":v(a)("commandPalette.close")},typeof s.close=="object"?s.close:{},{class:l.value.close({class:t.ui?.close}),onClick:b[0]||(b[0]=A=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):H("",!0)])]),key:"1"}:void 0]),1040,["placeholder","autofocus","icon","class"])]),_:3},8,["modelValue"]),W(v(lt),{class:F(l.value.content({class:t.ui?.content}))},{default:_(()=>[D.value?.length?(C(),P("div",{key:0,role:"presentation",class:F(l.value.viewport({class:t.ui?.viewport}))},[(C(!0),P(ie,null,ne(D.value,A=>(C(),L(v(rt),{key:`group-${A.id}`,class:F(l.value.group({class:t.ui?.group}))},{default:_(()=>[v(Z)(A,t.labelKey)?(C(),L(v(ot),{key:0,class:F(l.value.label({class:t.ui?.label}))},{default:_(()=>[ye(re(v(Z)(A,t.labelKey)),1)]),_:2},1032,["class"])):H("",!0),(C(!0),P(ie,null,ne(A.items,(c,x)=>(C(),L(v(at),{key:`group-${A.id}-${x}`,value:v(Ue)(c,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:c.disabled,"as-child":"",onSelect:E=>I(E,c)},{default:_(()=>[W(Ye,T({ref_for:!0},v(Je)(c),{custom:""}),{default:_(({active:E,...B})=>[W(Qe,T({ref_for:!0},B,{class:l.value.item({class:[t.ui?.item,c.ui?.item,c.class],active:E||c.active})}),{default:_(()=>[N(p.$slots,c.slot||A.slot||"item",{item:c,index:x},()=>[N(p.$slots,c.slot?`${c.slot}-leading`:A.slot?`${A.slot}-leading`:"item-leading",{item:c,index:x},()=>[c.loading?(C(),L(J,{key:0,name:s.loadingIcon||v(u).ui.icons.loading,class:F(l.value.itemLeadingIcon({class:[t.ui?.itemLeadingIcon,c.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):c.icon?(C(),L(J,{key:1,name:c.icon,class:F(l.value.itemLeadingIcon({class:[t.ui?.itemLeadingIcon,c.ui?.itemLeadingIcon],active:E||c.active}))},null,8,["name","class"])):c.avatar?(C(),L(Xe,T({key:2,size:c.ui?.itemLeadingAvatarSize||t.ui?.itemLeadingAvatarSize||l.value.itemLeadingAvatarSize()},{ref_for:!0},c.avatar,{class:l.value.itemLeadingAvatar({class:[t.ui?.itemLeadingAvatar,c.ui?.itemLeadingAvatar],active:E||c.active})}),null,16,["size","class"])):c.chip?(C(),L(Ze,T({key:3,size:c.ui?.itemLeadingChipSize||t.ui?.itemLeadingChipSize||l.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},c.chip,{class:l.value.itemLeadingChip({class:[t.ui?.itemLeadingChip,c.ui?.itemLeadingChip],active:E||c.active})}),null,16,["size","class"])):H("",!0)]),c.labelHtml||v(Z)(c,t.labelKey)||r[c.slot?`${c.slot}-label`:A.slot?`${A.slot}-label`:"item-label"]?(C(),P("span",{key:0,class:F(l.value.itemLabel({class:[t.ui?.itemLabel,c.ui?.itemLabel],active:E||c.active}))},[N(p.$slots,c.slot?`${c.slot}-label`:A.slot?`${A.slot}-label`:"item-label",{item:c,index:x},()=>[c.prefix?(C(),P("span",{key:0,class:F(l.value.itemLabelPrefix({class:[t.ui?.itemLabelPrefix,c.ui?.itemLabelPrefix]}))},re(c.prefix),3)):H("",!0),ae("span",{class:F(l.value.itemLabelBase({class:[t.ui?.itemLabelBase,c.ui?.itemLabelBase],active:E||c.active})),innerHTML:c.labelHtml||v(Z)(c,t.labelKey)},null,10,Zt),ae("span",{class:F(l.value.itemLabelSuffix({class:[t.ui?.itemLabelSuffix,c.ui?.itemLabelSuffix],active:E||c.active})),innerHTML:c.suffixHtml||c.suffix},null,10,es)])],2)):H("",!0),ae("span",{class:F(l.value.itemTrailing({class:[t.ui?.itemTrailing,c.ui?.itemTrailing]}))},[N(p.$slots,c.slot?`${c.slot}-trailing`:A.slot?`${A.slot}-trailing`:"item-trailing",{item:c,index:x},()=>[c.children&&c.children.length>0?(C(),L(J,{key:0,name:s.trailingIcon||v(u).ui.icons.chevronRight,class:F(l.value.itemTrailingIcon({class:[t.ui?.itemTrailingIcon,c.ui?.itemTrailingIcon]}))},null,8,["name","class"])):c.kbds?.length?(C(),P("span",{key:1,class:F(l.value.itemTrailingKbds({class:[t.ui?.itemTrailingKbds,c.ui?.itemTrailingKbds]}))},[(C(!0),P(ie,null,ne(c.kbds,(K,X)=>(C(),L(st,T({key:X,size:c.ui?.itemTrailingKbdsSize||t.ui?.itemTrailingKbdsSize||l.value.itemTrailingKbdsSize()},{ref_for:!0},typeof K=="string"?{value:K}:K),null,16,["size"]))),128))],2)):A.highlightedIcon?(C(),L(J,{key:2,name:A.highlightedIcon,class:F(l.value.itemTrailingHighlightedIcon({class:[t.ui?.itemTrailingHighlightedIcon,c.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):H("",!0)]),c.children?.length?H("",!0):(C(),L(v(ut),{key:0,"as-child":""},{default:_(()=>[W(J,{name:s.selectedIcon||v(u).ui.icons.check,class:F(l.value.itemTrailingIcon({class:[t.ui?.itemTrailingIcon,c.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]),_:2},1032,["class"]))),128))],2)):(C(),P("div",{key:1,class:F(l.value.empty({class:t.ui?.empty}))},[N(p.$slots,"empty",{searchTerm:i.value},()=>[ye(re(i.value?v(a)("commandPalette.noMatch",{searchTerm:i.value}):v(a)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),r.footer?(C(),P("div",{key:0,class:F(l.value.footer({class:t.ui?.footer}))},[N(p.$slots,"footer",{ui:l.value})],2)):H("",!0)]),_:3},16,["class"]))}};export{gs as default};
