import{bv as y,Y as $,bw as D,bx as I,z as K,a4 as M,a5 as j,J as E,bJ as U,ay as A,W as F,f as i,w as v,e as g,g as h,h as J,X as d,n,bI as L,E as O,ac as H,ad as T,bK as x,a7 as W,an as q,H as o,aF as w,bu as X,ab as Y,a8 as P}from"./r87NNr1M.js";import G from"./B0w0KqBN.js";import"./CuerbVKd.js";const Q={slots:{root:"relative flex flex-col items-stretch gap-2 px-2.5 py-2 w-full rounded-lg backdrop-blur",header:"flex items-center gap-1.5",body:"items-start",footer:"flex items-center justify-between gap-1.5",base:"text-base/5"},variants:{variant:{outline:{root:"bg-default/75 ring ring-default"},soft:{root:"bg-elevated/50"},subtle:{root:"bg-elevated/50 ring ring-default"},naked:{root:""}}},defaultVariants:{variant:"outline"}},ae=Object.assign({inheritAttrs:!1},{__name:"UChatPrompt",props:y({as:{type:null,required:!1,default:"form"},placeholder:{type:String,required:!1},variant:{type:null,required:!1},error:{type:Error,required:!1},class:{type:null,required:!1},ui:{type:void 0,required:!1},rows:{type:Number,required:!1,default:1},autofocus:{type:Boolean,required:!1,default:!0},autofocusDelay:{type:Number,required:!1},autoresize:{type:Boolean,required:!1,default:!0},autoresizeDelay:{type:Number,required:!1},maxrows:{type:Number,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},disabled:{type:Boolean,required:!1}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:y(["submit","close"],["update:modelValue"]),setup(t,{expose:k,emit:R}){const e=t,f=R,s=$(),l=D(t,"modelValue",{type:String,default:""}),{t:V}=I(),B=K(),S=M(j(e,"rows","autofocus","autofocusDelay","autoresize","autoresizeDelay","maxrows","icon","avatar","loading","loadingIcon")),z=()=>x(s,["header","footer"]),r=E(()=>P({extend:P(Q),...B.ui?.chatPrompt||{}})({variant:e.variant})),u=U("textareaRef");function c(a){l.value.trim()!==""&&f("submit",a)}function C(a){u.value?.textareaRef?.blur(),f("close",a)}return k({textareaRef:A(()=>u.value?.textareaRef)}),(a,m)=>(i(),F(o(Y),{as:t.as,"data-slot":"root",class:n(r.value.root({class:[e.ui?.root,e.class]})),onSubmit:w(c,["prevent"])},{default:v(()=>[s.header?(i(),g("div",{key:0,"data-slot":"header",class:n(r.value.header({class:e.ui?.header}))},[d(a.$slots,"header")],2)):h("",!0),J(G,W({ref_key:"textareaRef",ref:u,modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=p=>l.value=p),placeholder:t.placeholder||o(V)("chatPrompt.placeholder"),disabled:!!t.error||t.disabled,variant:"none"},{...o(S),...a.$attrs},{ui:o(X)(o(x)(r.value,["root","body","header","footer"]),e.ui),"data-slot":"body",class:r.value.body({class:e.ui?.body}),onKeydown:[q(w(c,["exact","prevent"]),["enter"]),q(C,["esc"])]}),L({_:2},[O(z(),(p,b)=>({name:b,fn:v(N=>[d(a.$slots,b,H(T(N)))])}))]),1040,["modelValue","placeholder","disabled","ui","class","onKeydown"]),s.footer?(i(),g("div",{key:1,"data-slot":"footer",class:n(r.value.footer({class:e.ui?.footer}))},[d(a.$slots,"footer")],2)):h("",!0)]),_:3},8,["as","class"]))}});export{ae as default};
