import{Y as A,bx as F,z as I,ap as L,a5 as W,aZ as X,ay as w,J as q,W as d,f as o,w as r,h as v,g as i,H as t,a7 as B,a_ as Y,X as u,av as G,B as g,t as b,e as h,i as J,n as f,G as K,F as M,ac as $,ad as x,a8 as C}from"./r87NNr1M.js";import{D as U,a as Z,b as Q}from"./BCV4PXrQ.js";import{D as _,a as P,b as O,c as ee,d as E}from"./IIVvundq.js";import{c as te}from"./CuerbVKd.js";import"./7cgco4TI.js";import"./Dt2rK7YK.js";import"./DvXkyWUv.js";import"./CkxLFSAh.js";import"./CupDS06r.js";const ae={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},fe={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:S}){const e=a,y=S,l=A(),{t:T}=F(),k=I(),V=L(W(e,"open","defaultOpen","modal"),y),R=X(w(()=>e.portal)),H=w(()=>e.content),N=q(()=>e.dismissible?e.scrollable?{pointerDownOutside:s=>{const c=s.detail.originalEvent,p=c.target;(c.offsetX>p.clientWidth||c.offsetY>p.clientHeight)&&s.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((c,p)=>(c[p]=m=>{m.preventDefault(),y("close:prevent")},c),{})),[j,D]=te(),n=q(()=>C({extend:C(ae),...k.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen,overlay:e.overlay,scrollable:e.scrollable}));return(s,c)=>(o(),d(t(Q),$(x(t(V))),{default:r(({open:p,close:m})=>[v(t(j),null,{default:r(()=>[v(t(_),B({"data-slot":"content",class:n.value.content({class:[!l.default&&e.class,e.ui?.content]})},H.value,{onAfterEnter:c[0]||(c[0]=z=>y("after:enter")),onAfterLeave:c[1]||(c[1]=z=>y("after:leave"))},Y(N.value)),{default:r(()=>[l.content&&(a.title||l.title||a.description||l.description)?(o(),d(t(G),{key:0},{default:r(()=>[a.title||l.title?(o(),d(t(P),{key:0},{default:r(()=>[u(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3})):i("",!0),a.description||l.description?(o(),d(t(O),{key:1},{default:r(()=>[u(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3})):i("",!0)]),_:3})):i("",!0),u(s.$slots,"content",{close:m},()=>[l.header||a.title||l.title||a.description||l.description||e.close||l.close?(o(),h("div",{key:0,"data-slot":"header",class:f(n.value.header({class:e.ui?.header}))},[u(s.$slots,"header",{close:m},()=>[J("div",{"data-slot":"wrapper",class:f(n.value.wrapper({class:e.ui?.wrapper}))},[a.title||l.title?(o(),d(t(P),{key:0,"data-slot":"title",class:f(n.value.title({class:e.ui?.title}))},{default:r(()=>[u(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3},8,["class"])):i("",!0),a.description||l.description?(o(),d(t(O),{key:1,"data-slot":"description",class:f(n.value.description({class:e.ui?.description}))},{default:r(()=>[u(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3},8,["class"])):i("",!0)],2),u(s.$slots,"actions"),e.close||l.close?(o(),d(t(ee),{key:0,"as-child":""},{default:r(()=>[u(s.$slots,"close",{ui:n.value},()=>[e.close?(o(),d(K,B({key:0,icon:a.closeIcon||t(k).ui.icons.close,color:"neutral",variant:"ghost","aria-label":t(T)("modal.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:n.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):i("",!0)])]),_:2},1024)):i("",!0)])],2)):i("",!0),l.body?(o(),h("div",{key:1,"data-slot":"body",class:f(n.value.body({class:e.ui?.body}))},[u(s.$slots,"body",{close:m})],2)):i("",!0),l.footer?(o(),h("div",{key:2,"data-slot":"footer",class:f(n.value.footer({class:e.ui?.footer}))},[u(s.$slots,"footer",{close:m})],2)):i("",!0)])]),_:2},1040,["class"])]),_:2},1024),l.default?(o(),d(t(U),{key:0,"as-child":"",class:f(e.class)},{default:r(()=>[u(s.$slots,"default",{open:p})]),_:2},1032,["class"])):i("",!0),v(t(Z),$(x(t(R))),{default:r(()=>[a.scrollable?(o(),d(t(E),{key:0,"data-slot":"overlay",class:f(n.value.overlay({class:e.ui?.overlay}))},{default:r(()=>[v(t(D))]),_:1},8,["class"])):(o(),h(M,{key:1},[a.overlay?(o(),d(t(E),{key:0,"data-slot":"overlay",class:f(n.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):i("",!0),v(t(D))],64))]),_:1},16)]),_:3},16))}};export{fe as default};
