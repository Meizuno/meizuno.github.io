import{bv as X,Y,bw as T,x as G,bx as Q,z as Z,r as R,b4 as _,ay as M,P as v,J as N,az as ee,e as m,f as s,h as y,W as f,g as d,i as k,w as S,X as i,a7 as $,H as e,n,ac as ae,ad as le,F as oe,a8 as O}from"./BTXGmdcq.js";import{c as P}from"./nCACF461.js";import{u as te}from"./BYnk_OL2.js";import{u as se}from"./CzuYPJJ0.js";import re from"./Bn0Xmtcj.js";import de from"./DheHMluj.js";import ie from"./DuJfcAJG.js";import ue from"./bBwryjxf.js";import ne from"./DD3Kssvc.js";import{u as H}from"./COG3z91R.js";import"./BXTbhdJx.js";import"./C6IGQG6m.js";import"./DGh5im1-.js";import"./Cj7M1PW7.js";import"./DvXkyWUv.js";import"./Cd8cFK-B.js";import"./DZChHicL.js";const fe={slots:{root:"relative hidden lg:flex flex-col min-h-svh min-w-16 w-(--width) shrink-0",header:"h-(--ui-header-height) shrink-0 flex items-center gap-1.5 px-4",body:"flex flex-col gap-4 flex-1 overflow-y-auto px-4 py-2",footer:"shrink-0 flex items-center gap-1.5 px-4 py-2",toggle:"",handle:"",content:"lg:hidden",overlay:"lg:hidden"},variants:{menu:{true:{header:"sm:px-6",body:"sm:px-6",footer:"sm:px-6"}},side:{left:{root:"border-e border-default"},right:{root:""}},toggleSide:{left:{toggle:""},right:{toggle:"ms-auto"}}}},ce=["data-collapsed","data-dragging"],Te=Object.assign({inheritAttrs:!1},{__name:"UDashboardSidebar",props:X({mode:{type:null,required:!1,default:"slideover"},menu:{type:null,required:!1},toggle:{type:[Boolean,Object],required:!1,default:!0},toggleSide:{type:String,required:!1,default:"left"},class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!1},side:{type:String,required:!1,default:"left"},minSize:{type:Number,required:!1,default:10},maxSize:{type:Number,required:!1,default:20},defaultSize:{type:Number,required:!1,default:15},resizable:{type:Boolean,required:!1,default:!1},collapsible:{type:Boolean,required:!1,default:!1},collapsedSize:{type:Number,required:!1,default:0}},{open:{type:Boolean,default:!1},openModifiers:{},collapsed:{type:Boolean,default:!1},collapsedModifiers:{}}),emits:["update:open","update:collapsed"],setup(l){const a=l,g=Y(),r=T(l,"open",{type:Boolean,default:!1}),j=T(l,"collapsed",{type:Boolean,default:!1}),A=G(),{t:w}=Q(),F=Z(),c=se({storageKey:"dashboard",unit:"%",sidebarOpen:R(!1),sidebarCollapsed:R(!1)}),p=`${c.storageKey}-sidebar-${a.id||_()}`,{el:V,size:K,collapse:h,isCollapsed:u,isDragging:U,onMouseDown:z,onTouchStart:q,onDoubleClick:D}=te(p,M(()=>({...c,...a})),{collapsed:j}),[E,x]=P(),[I,B]=P();H("dashboard:sidebar:toggle",()=>{r.value=!r.value}),H("dashboard:sidebar:collapse",o=>{u.value=o}),v(r,()=>c.sidebarOpen.value=r.value,{immediate:!0}),v(u,()=>c.sidebarCollapsed.value=u.value,{immediate:!0}),v(()=>A.fullPath,()=>{r.value=!1});const t=N(()=>O({extend:O(fe),...F.ui?.dashboardSidebar||{}})({side:a.side})),J=N(()=>({slideover:ie,modal:ue,drawer:ne})[a.mode]),L=M(()=>ee(a.menu,{content:{onOpenAutoFocus:o=>o.preventDefault()}},a.mode==="modal"?{fullscreen:!0,transition:!1}:a.mode==="slideover"?{side:"left"}:{}));function W(){r.value=!r.value}return(o,C)=>(s(),m(oe,null,[y(e(E),null,{default:S(()=>[i(o.$slots,"toggle",{open:r.value,toggle:W,ui:t.value},()=>[l.toggle?(s(),f(de,$({key:0},typeof l.toggle=="object"?l.toggle:{},{side:l.toggleSide,"data-slot":"toggle",class:t.value.toggle({class:a.ui?.toggle,toggleSide:l.toggleSide})}),null,16,["side","class"])):d("",!0)])]),_:3}),y(e(I),null,{default:S(()=>[i(o.$slots,"resize-handle",{onMouseDown:e(z),onTouchStart:e(q),onDoubleClick:e(D),ui:t.value},()=>[l.resizable?(s(),f(re,{key:0,"aria-controls":p,"data-slot":"handle",class:n(t.value.handle({class:a.ui?.handle})),onMousedown:e(z),onTouchstart:e(q),onDblclick:e(D)},null,8,["class","onMousedown","onTouchstart","onDblclick"])):d("",!0)])]),_:3}),l.side==="right"?(s(),f(e(B),{key:0})):d("",!0),k("div",$({id:p,ref_key:"el",ref:V},o.$attrs,{"data-collapsed":e(u),"data-dragging":e(U),"data-slot":"root",class:t.value.root({class:[a.ui?.root,a.class]}),style:{"--width":`${e(K)||0}${e(c).unit}`}}),[g.header?(s(),m("div",{key:0,"data-slot":"header",class:n(t.value.header({class:a.ui?.header}))},[i(o.$slots,"header",{collapsed:e(u),collapse:e(h)})],2)):d("",!0),k("div",{"data-slot":"body",class:n(t.value.body({class:a.ui?.body}))},[i(o.$slots,"default",{collapsed:e(u),collapse:e(h)})],2),g.footer?(s(),m("div",{key:1,"data-slot":"footer",class:n(t.value.footer({class:a.ui?.footer}))},[i(o.$slots,"footer",{collapsed:e(u),collapse:e(h)})],2)):d("",!0)],16,ce),l.side==="left"?(s(),f(e(B),{key:1})):d("",!0),y(e(J),$({open:r.value,"onUpdate:open":C[0]||(C[0]=b=>r.value=b),title:e(w)("dashboardSidebar.title"),description:e(w)("dashboardSidebar.description")},L.value,{ui:{overlay:t.value.overlay({class:a.ui?.overlay}),content:t.value.content({class:a.ui?.content})}}),{content:S(b=>[i(o.$slots,"content",ae(le(b)),()=>[g.header||l.mode!=="drawer"?(s(),m("div",{key:0,"data-slot":"header",class:n(t.value.header({class:a.ui?.header,menu:!0}))},[l.mode!=="drawer"&&l.toggleSide==="left"?(s(),f(e(x),{key:0})):d("",!0),i(o.$slots,"header"),l.mode!=="drawer"&&l.toggleSide==="right"?(s(),f(e(x),{key:1})):d("",!0)],2)):d("",!0),k("div",{"data-slot":"body",class:n(t.value.body({class:a.ui?.body,menu:!0}))},[i(o.$slots,"default")],2),g.footer?(s(),m("div",{key:1,"data-slot":"footer",class:n(t.value.footer({class:a.ui?.footer,menu:!0}))},[i(o.$slots,"footer")],2)):d("",!0)])]),_:3},16,["open","title","description","ui"])],64))}});export{Te as default};
