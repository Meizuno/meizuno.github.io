import{c as ue,a as de,b as pe,_ as ce}from"./CcCkS18N.js";import{C as g,a1 as E,I as v,e as b,w as f,g as D,G as e,a2 as O,a6 as _,a0 as y,M as B,ay as U,cZ as W,aA as oe,az as j,r as w,o as V,R as me,d4 as fe,P as ae,ao as A,at as he,c as q,aJ as ve,ac as be,f as H,aw as R,a3 as ge,aC as ye,A as ne,V as te,aI as Ce,aR as _e,t as xe,ax as le,cX as Be}from"./D2I4l5jL.js";import{u as we,a as Ie}from"./BmiRl91E.js";import{e as Se,d as $e,a as Ee,f as Oe,_ as Ve,b as ke,c as Fe}from"./zNNNPrne.js";import{u as T}from"./BjWY95iK.js";import{u as Pe}from"./D6XXs7IO.js";const We=g({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(i){const{forwardRef:s}=E();return(t,n)=>(b(),v(e(ue),{"as-child":"",reference:t.reference},{default:f(()=>[D(e(O),_({ref:e(s),"as-child":t.asChild,as:t.as},t.$attrs),{default:f(()=>[y(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}});function De(i){const s=B(()=>e(i)),t=B(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(r,l)=>l.length===0?!0:(r=r.normalize("NFC"),l=l.normalize("NFC"),t.value.compare(r.slice(0,l.length),l)===0),endsWith:(r,l)=>l.length===0?!0:(r=r.normalize("NFC"),l=l.normalize("NFC"),t.value.compare(r.slice(-l.length),l)===0),contains:(r,l)=>{if(l.length===0)return!0;r=r.normalize("NFC"),l=l.normalize("NFC");let u=0;const x=l.length;for(;u+x<=r.length;u++){const c=r.slice(u,u+x);if(t.value.compare(l,c)===0)return!0}return!1}}}const[I,Re]=U("ComboboxRoot"),qe=g({__name:"ComboboxRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(i,{expose:s,emit:t}){const n=i,a=t,{primitiveElement:o,currentElement:r}=W(),{multiple:l,disabled:u,ignoreFilter:x,resetSearchTermOnSelect:c,dir:C}=oe(n),d=Pe(C),p=j(n,"modelValue",a,{defaultValue:n.defaultValue??(l.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),m=j(n,"open",a,{defaultValue:n.defaultOpen,passive:n.open===void 0});async function ie(h){m.value=h,k.value="",h?(await A(),o.value?.highlightSelected(),z.value=!0):z.value=!1,G.value?.focus(),setTimeout(()=>{!h&&n.resetSearchTermOnBlur&&J.trigger()},1)}const J=fe(),z=w(!1),X=w(!1),G=w(),Z=w(),Q=B(()=>o.value?.highlightedElement??void 0),M=w(new Map),N=w(new Map),{contains:re}=De({sensitivity:"base"}),k=w(""),Y=B(h=>{if(!k.value||n.ignoreFilter||X.value)return{count:M.value.size,items:h?.items??new Map,groups:h?.groups??new Set(N.value.keys())};let S=0;const $=new Map,ee=new Set;for(const[L,K]of M.value){const P=re(K,k.value);$.set(L,P?1:0),P&&S++}for(const[L,K]of N.value)for(const P of K)if($.get(P)>0){ee.add(L);break}return{count:S,items:$,groups:ee}}),F=me();return V(()=>{F?.exposed&&(F.exposed.highlightItem=o.value?.highlightItem,F.exposed.highlightFirstItem=o.value?.highlightFirstItem,F.exposed.highlightSelected=o.value?.highlightSelected)}),s({filtered:Y,highlightedElement:Q,highlightItem:o.value?.highlightItem,highlightFirstItem:o.value?.highlightFirstItem,highlightSelected:o.value?.highlightSelected}),Re({modelValue:p,multiple:l,disabled:u,open:m,onOpenChange:ie,contentId:"",isUserInputted:z,isVirtual:X,inputElement:G,highlightedElement:Q,onInputElementChange:h=>G.value=h,triggerElement:Z,onTriggerElementChange:h=>Z.value=h,parentElement:r,resetSearchTermOnSelect:c,onResetSearchTerm:J.on,allItems:M,allGroups:N,filterSearch:k,filterState:Y,ignoreFilter:x}),(h,S)=>(b(),v(e(de),null,{default:f(()=>[D(e(Se),_({ref_key:"primitiveElement",ref:o},h.$attrs,{modelValue:e(p),"onUpdate:modelValue":S[0]||(S[0]=$=>ae(p)?p.value=$:null),style:{pointerEvents:e(m)?"auto":void 0},as:h.as,"as-child":h.asChild,dir:e(d),multiple:e(l),name:h.name,required:h.required,disabled:e(u),"highlight-on-hover":!0,by:n.by,onHighlight:S[1]||(S[1]=$=>a("highlight",$))}),{default:f(()=>[y(h.$slots,"default",{open:e(m),modelValue:e(p)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),[Te,ze]=U("ComboboxContent"),Ge=g({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:s}){const t=i,n=s,{position:a}=oe(t),o=I(),{forwardRef:r,currentElement:l}=E();we(t.bodyLock),Ie(o.parentElement);const u=B(()=>t.position==="popper"?t:{}),x=he(u.value),c={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};ze({position:a});const C=w(!1);return V(()=>{o.inputElement.value&&(C.value=l.value.contains(o.inputElement.value),C.value&&o.inputElement.value.focus())}),q(()=>{C.value&&o.triggerElement.value?.focus()}),(d,p)=>(b(),v(e($e),{"as-child":""},{default:f(()=>[D(e(ve),{"as-child":"","disable-outside-pointer-events":d.disableOutsidePointerEvents,onDismiss:p[0]||(p[0]=m=>e(o).onOpenChange(!1)),onFocusOutside:p[1]||(p[1]=m=>{e(o).parentElement.value?.contains(m.target)&&m.preventDefault(),n("focusOutside",m)}),onInteractOutside:p[2]||(p[2]=m=>n("interactOutside",m)),onEscapeKeyDown:p[3]||(p[3]=m=>n("escapeKeyDown",m)),onPointerDownOutside:p[4]||(p[4]=m=>{e(o).parentElement.value?.contains(m.target)&&m.preventDefault(),n("pointerDownOutside",m)})},{default:f(()=>[(b(),v(be(e(a)==="popper"?e(pe):e(O)),_({...d.$attrs,...e(x)},{id:e(o).contentId,ref:e(r),"data-state":e(o).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(a)==="popper"?c:{}}}),{default:f(()=>[y(d.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),He=g({__name:"ComboboxArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(i){const s=i,t=I(),n=Te();return E(),(a,o)=>e(t).open.value&&e(n).position.value==="popper"?(b(),v(e(ce),R(_({key:0},s)),{default:f(()=>[y(a.$slots,"default")]),_:3},16)):H("",!0)}}),Je=g({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:s}){const a=ge(i,s),{forwardRef:o}=E(),r=I();return r.contentId||=T(void 0,"reka-combobox-content"),(l,u)=>(b(),v(e(ye),{present:l.forceMount||e(r).open.value},{default:f(()=>[D(Ge,_({...e(a),...l.$attrs},{ref:e(o)}),{default:f(()=>[y(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Xe=g({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(i){const s=i,t=I(),n=B(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(a,o)=>n.value?(b(),v(e(O),R(_({key:0},s)),{default:f(()=>[y(a.$slots,"default",{},()=>[o[0]||(o[0]=ne("No options"))])]),_:3},16)):H("",!0)}}),[se,Me]=U("ComboboxGroup"),Ze=g({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(i){const s=i,t=T(void 0,"reka-combobox-group"),n=I(),a=B(()=>n.ignoreFilter.value?!0:n.filterSearch.value?n.filterState.value.groups.has(t):!0),o=Me({id:t,labelId:""});return V(()=>{n.allGroups.value.has(t)||n.allGroups.value.set(t,new Set)}),q(()=>{n.allGroups.value.delete(t)}),(r,l)=>(b(),v(e(Ee),_({id:e(t),"aria-labelledby":e(o).labelId},s,{hidden:a.value?void 0:!0}),{default:f(()=>[y(r.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),Qe=g({__name:"ComboboxInput",props:{displayValue:{},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(i,{emit:s}){const t=i,n=s,a=I(),o=Oe(),{primitiveElement:r,currentElement:l}=W(),u=j(t,"modelValue",n,{passive:t.modelValue===void 0});V(()=>{l.value&&a.onInputElementChange(l.value)});function x(d){a.open.value||a.onOpenChange(!0)}function c(d){const p=d.target;a.open.value?a.filterSearch.value=p.value:(a.onOpenChange(!0),A(()=>{p.value&&(a.filterSearch.value=p.value,o.highlightFirstItem())}))}function C(){const d=a.modelValue.value;t.displayValue?u.value=t.displayValue(d):!a.multiple.value&&d&&!Array.isArray(d)&&typeof d!="object"?u.value=d.toString():u.value="",A(()=>{u.value=u.value})}return a.onResetSearchTerm(()=>{C()}),te(a.modelValue,async()=>{!a.isUserInputted.value&&a.resetSearchTermOnSelect.value&&C()},{immediate:!0,deep:!0}),te(a.filterState,()=>{a.isVirtual.value||o.highlightFirstItem()}),(d,p)=>(b(),v(e(Ve),{ref_key:"primitiveElement",ref:r,modelValue:e(u),"onUpdate:modelValue":p[0]||(p[0]=m=>ae(u)?u.value=m:null),as:d.as,"as-child":d.asChild,"auto-focus":d.autoFocus,"aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:c,onKeydown:Ce(_e(x,["prevent"]),["down","up"])},{default:f(()=>[y(d.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","aria-expanded","aria-controls","onKeydown"]))}}),Ye=g({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(i,{emit:s}){const t=i,n=s,a=T(void 0,"reka-combobox-item"),o=I(),r=se(null),{primitiveElement:l,currentElement:u}=W();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const x=B(()=>{if(o.isVirtual.value||o.ignoreFilter.value||!o.filterSearch.value)return!0;{const c=o.filterState.value.items.get(a);return c===void 0?!0:c>0}});return V(()=>{o.allItems.value.set(a,t.textValue||u.value.textContent||u.value.innerText);const c=r?.id;c&&(o.allGroups.value.has(c)?o.allGroups.value.get(c)?.add(a):o.allGroups.value.set(c,new Set([a])))}),q(()=>{o.allItems.value.delete(a)}),(c,C)=>x.value?(b(),v(e(ke),_({key:0},t,{id:e(a),ref_key:"primitiveElement",ref:l,disabled:e(o).disabled.value||c.disabled,onSelect:C[0]||(C[0]=d=>{n("select",d),!d.defaultPrevented&&!e(o).multiple.value&&!c.disabled&&!e(o).disabled.value&&(d.preventDefault(),e(o).onOpenChange(!1),e(o).modelValue.value=t.value)})}),{default:f(()=>[y(c.$slots,"default",{},()=>[ne(xe(c.value),1)])]),_:3},16,["id","disabled"])):H("",!0)}}),et=g({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(i){const s=i;return(t,n)=>(b(),v(e(Fe),R(le(s)),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}}),tt=g({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(i){const s=i;E();const t=se({id:"",labelId:""});return t.labelId||=T(void 0,"reka-combobox-group-label"),(n,a)=>(b(),v(e(O),_(s,{id:e(t).labelId}),{default:f(()=>[y(n.$slots,"default")]),_:3},16,["id"]))}}),ot=g({__name:"ComboboxPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(i){const s=i;return(t,n)=>(b(),v(e(Be),R(le(s)),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}}),at=g({__name:"ComboboxSeparator",props:{asChild:{type:Boolean},as:{}},setup(i){const s=i;return E(),(t,n)=>(b(),v(e(O),_(s,{"aria-hidden":"true"}),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}}),nt=g({__name:"ComboboxTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(i){const s=i,{forwardRef:t,currentElement:n}=E(),a=I(),o=B(()=>s.disabled||a.disabled.value||!1);return V(()=>{n.value&&a.onTriggerElementChange(n.value)}),(r,l)=>(b(),v(e(O),_(s,{ref:e(t),type:r.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"data-state":e(a).open.value?"open":"closed",disabled:o.value,"data-disabled":o.value?"":void 0,"aria-disabled":o.value??void 0,onClick:l[0]||(l[0]=u=>e(a).onOpenChange(!e(a).open.value))}),{default:f(()=>[y(r.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}});export{Ze as _,Ye as a,We as b,Qe as c,nt as d,ot as e,Je as f,Xe as g,tt as h,at as i,et as j,He as k,qe as l,De as u};
