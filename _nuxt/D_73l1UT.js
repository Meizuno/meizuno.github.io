import{C as T,a1 as k,S as g,e as i,w as l,U as h,as as $,at as x,G as t,av as W,b4 as N,J as m,aw as G,M as J,r as E,b5 as Q,X as I,Q as X,o as H,b6 as R,g as O,a6 as C,aJ as Y,A as Z,t as M,aQ as ee,aD as te,ap as oe,a3 as z,aN as ae,aF as ne,b7 as se,a2 as re,b3 as ie,y as le,a4 as de,b2 as ue,aj as L,aL as ce,f as D,d as q,n as K,F as pe,D as fe,a7 as A}from"./D5pWrCjK.js";import ge from"./Dmw53Rzh.js";import{_ as ve,a as me,b as ye,c as be}from"./CNX7tp1U.js";import{u as he}from"./DfFCkqol.js";import{u as Ce}from"./tOGr2Upu.js";const _e=T({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(s){const d=s;return k(),(e,u)=>(i(),g(t(ve),$(x(d)),{default:l(()=>[h(e.$slots,"default")]),_:3},16))}}),j="tooltip.open",[S,we]=W("TooltipRoot"),Pe=T({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(s,{emit:d}){const e=s,u=d;k();const o=N(),f=m(()=>e.disableHoverableContent??o.disableHoverableContent.value),p=m(()=>e.disableClosingTrigger??o.disableClosingTrigger.value),c=m(()=>e.disabled??o.disabled.value),v=m(()=>e.delayDuration??o.delayDuration.value),b=m(()=>e.ignoreNonKeyboardFocus??o.ignoreNonKeyboardFocus.value),a=G(e,"open",u,{defaultValue:e.defaultOpen,passive:e.open===void 0});J(a,B=>{o.onClose&&(B?(o.onOpen(),document.dispatchEvent(new CustomEvent(j))):o.onClose())});const n=E(!1),r=E(),_=m(()=>a.value?n.value?"delayed-open":"instant-open":"closed"),{start:w,stop:P}=Q(()=>{n.value=!0,a.value=!0},v,{immediate:!1});function y(){P(),n.value=!1,a.value=!0}function F(){P(),a.value=!1}function U(){w()}return we({contentId:"",open:a,stateAttribute:_,trigger:r,onTriggerChange(B){r.value=B},onTriggerEnter(){o.isOpenDelayed.value?U():y()},onTriggerLeave(){f.value?F():P()},onOpen:y,onClose:F,disableHoverableContent:f,disableClosingTrigger:p,disabled:c,ignoreNonKeyboardFocus:b}),(B,$e)=>(i(),g(t(me),null,{default:l(()=>[h(B.$slots,"default",{open:t(a)})]),_:3}))}}),V=T({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(s,{emit:d}){const e=s,u=d,o=S(),{forwardRef:f}=k(),p=I(),c=m(()=>p.default?.({})),v=m(()=>{if(e.ariaLabel)return e.ariaLabel;let a="";function n(r){typeof r.children=="string"&&r.type!==X?a+=r.children:Array.isArray(r.children)&&r.children.forEach(_=>n(_))}return c.value?.forEach(r=>n(r)),a}),b=m(()=>{const{ariaLabel:a,...n}=e;return n});return H(()=>{R(window,"scroll",a=>{a.target?.contains(o.trigger.value)&&o.onClose()}),R(window,j,o.onClose)}),(a,n)=>(i(),g(t(te),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:n[0]||(n[0]=r=>u("escapeKeyDown",r)),onPointerDownOutside:n[1]||(n[1]=r=>{t(o).disableClosingTrigger.value&&t(o).trigger.value?.contains(r.target)&&r.preventDefault(),u("pointerDownOutside",r)}),onFocusOutside:n[2]||(n[2]=ee(()=>{},["prevent"])),onDismiss:n[3]||(n[3]=r=>t(o).onClose())},{default:l(()=>[O(t(ye),C({ref:t(f),"data-state":t(o).stateAttribute.value},{...a.$attrs,...b.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:l(()=>[h(a.$slots,"default"),O(t(Y),{id:t(o).contentId,role:"tooltip"},{default:l(()=>[Z(M(v.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Te=T({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(s){const e=oe(s),{forwardRef:u,currentElement:o}=k(),{trigger:f,onClose:p}=S(),c=N(),{isPointerInTransit:v,onPointerExit:b}=Ce(f,o);return c.isPointerInTransitRef=v,b(()=>{p()}),(a,n)=>(i(),g(V,C({ref:t(u)},t(e)),{default:l(()=>[h(a.$slots,"default")]),_:3},16))}}),ke=T({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(s,{emit:d}){const e=s,u=d,o=S(),f=z(e,u),{forwardRef:p}=k();return(c,v)=>(i(),g(t(ne),{present:c.forceMount||t(o).open.value},{default:l(()=>[(i(),g(ae(t(o).disableHoverableContent.value?V:Te),C({ref:t(p)},t(f)),{default:l(()=>[h(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Be=T({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const d=s;return(e,u)=>(i(),g(t(se),$(x(d)),{default:l(()=>[h(e.$slots,"default")]),_:3},16))}}),Oe=T({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(s){const d=s,e=S(),u=N();e.contentId||=he(void 0,"reka-tooltip-content");const{forwardRef:o,currentElement:f}=k(),p=E(!1),c=E(!1),v=m(()=>e.disabled.value?{}:{click:P,focus:_,pointermove:n,pointerleave:r,pointerdown:a,blur:w});H(()=>{e.onTriggerChange(f.value)});function b(){setTimeout(()=>{p.value=!1},1)}function a(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),p.value=!0,document.addEventListener("pointerup",b,{once:!0})}function n(y){y.pointerType!=="touch"&&!c.value&&!u.isPointerInTransitRef.value&&(e.onTriggerEnter(),c.value=!0)}function r(){e.onTriggerLeave(),c.value=!1}function _(y){p.value||e.ignoreNonKeyboardFocus.value&&!y.target.matches?.(":focus-visible")||e.onOpen()}function w(){e.onClose()}function P(){e.disableClosingTrigger.value||e.onClose()}return(y,F)=>(i(),g(t(be),{"as-child":"",reference:y.reference},{default:l(()=>[O(t(re),C({ref:t(o),"aria-describedby":t(e).open.value?t(e).contentId:void 0,"data-state":t(e).stateAttribute.value,as:y.as,"as-child":d.asChild,"data-grace-area-trigger":""},ie(v.value)),{default:l(()=>[h(y.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),De={slots:{content:"flex items-center gap-1 bg-default text-highlighted shadow-sm rounded-sm ring ring-default h-6 px-2.5 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-tooltip-content-transform-origin) pointer-events-auto",arrow:"fill-default",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 not-first-of-type:before:content-['Â·'] not-first-of-type:before:me-0.5",kbdsSize:"sm"}},qe={__name:"UTooltip",props:{text:{type:String,required:!1},kbds:{type:Array,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(s,{emit:d}){const e=s,u=d,o=I(),f=le(),p=z(de(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","disabled","ignoreNonKeyboardFocus"),u),c=ue(L(()=>e.portal)),v=L(()=>ce(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),b=L(()=>e.arrow),a=m(()=>A({extend:A(De),...f.ui?.tooltip||{}})({side:v.value.side}));return(n,r)=>(i(),g(t(Pe),$(x(t(p))),{default:l(({open:_})=>[o.default||s.reference?(i(),g(t(Oe),C({key:0},n.$attrs,{"as-child":"",reference:s.reference,class:e.class}),{default:l(()=>[h(n.$slots,"default",{open:_})]),_:2},1040,["reference","class"])):D("",!0),O(t(Be),$(x(t(c))),{default:l(()=>[O(t(ke),C(v.value,{class:a.value.content({class:[!o.default&&e.class,e.ui?.content]})}),{default:l(()=>[h(n.$slots,"content",{},()=>[s.text?(i(),q("span",{key:0,class:K(a.value.text({class:e.ui?.text}))},M(s.text),3)):D("",!0),s.kbds?.length?(i(),q("span",{key:1,class:K(a.value.kbds({class:e.ui?.kbds}))},[(i(!0),q(pe,null,fe(s.kbds,(w,P)=>(i(),g(ge,C({key:P,size:e.ui?.kbdsSize||a.value.kbdsSize()},{ref_for:!0},typeof w=="string"?{value:w}:w),null,16,["size"]))),128))],2)):D("",!0)]),s.arrow?(i(),g(t(_e),C({key:0},b.value,{class:a.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):D("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16))}};export{qe as default};
