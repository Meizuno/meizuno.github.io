import{d as ie,ak as K,Z as x,J as A,P as le,H as b,Y as ae,z as ce,W as z,f as g,w as V,e as H,g as k,X as B,bh as ue,n as L,F as fe,E as P,a7 as I,bI as de,bK as ge,ab as he,a8 as R,az as pe}from"./r87NNr1M.js";import{p as me,v as ve,i as ye,b as J,c as we,e as be,g as xe,h as Ee,n as Z,f as y,j as C,k as Q,s as Le,l as m,o as h,q as $,t as Se,w as F,M as We}from"./CrRM39tx.js";import ze from"./DwF69MmY.js";import"./CuerbVKd.js";import"./jJj8kBWv.js";import"./BhnPWUNR.js";import"./C4vDeN3Q.js";const He=50,q=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ke=()=>({time:0,x:q(),y:q()}),Be={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function N(e,t,n,s){const r=n[t],{length:o,position:i}=Be[t],l=r.current,c=n.time;r.current=e[`scroll${i}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=me(0,r.scrollLength,r.current);const a=s-c;r.velocity=a>He?0:ve(r.current-l,a)}function Te(e,t,n){N(e,"x",t,n),N(e,"y",t,n),t.time=n}function Ae(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(ye(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=r.left-o.left,n.y+=r.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:o}=s.getBBox();n.x+=r,n.y+=o;let i=null,l=s.parentNode;for(;!i;)l.tagName==="svg"&&(i=l),l=s.parentNode;s=i}else break;return n}const M={start:0,center:.5,end:1};function _(e,t,n=0){let s=0;if(e in M&&(e=M[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?s=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?s=r/100*document.documentElement.clientWidth:e.endsWith("vh")?s=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(s=t*e),n+s}const Me=[0,0];function Ce(e,t,n,s){let r=Array.isArray(e)?e:Me,o=0,i=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,M[e]?e:"0"]),o=_(r[0],n,s),i=_(r[1],t),o-i}const Oe={All:[[0,0],[1,1]]},Ve={x:0,y:0};function Pe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Ie(e,t,n){const{offset:s=Oe.All}=n,{target:r=e,axis:o="y"}=n,i=o==="y"?"height":"width",l=r!==e?Ae(r,e):Ve,c=r===e?{width:e.scrollWidth,height:e.scrollHeight}:Pe(r),a={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let u=!t[o].interpolate;const d=s.length;for(let f=0;f<d;f++){const E=Ce(s[f],a[i],c[i],l[o]);!u&&E!==t[o].interpolatorOffsets[f]&&(u=!0),t[o].offset[f]=E}u&&(t[o].interpolate=J(t[o].offset,we(s),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=be(0,1,t[o].interpolate(t[o].current))}function Re(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function $e(e,t,n,s={}){return{measure:r=>{Re(e,s.target,n),Te(e,n,r),(s.offset||s.target)&&Ie(e,n,s)},notify:()=>t(n)}}const S=new WeakMap;let p;const ee=(e,t,n)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:Ee(s)&&"getBBox"in s?s.getBBox()[t]:s[n],Fe=ee("inline","width","offsetWidth"),qe=ee("block","height","offsetHeight");function Ne({target:e,borderBoxSize:t}){var n;(n=S.get(e))==null||n.forEach(s=>{s(e,{get width(){return Fe(e,t)},get height(){return qe(e,t)}})})}function _e(e){e.forEach(Ne)}function De(){typeof ResizeObserver>"u"||(p=new ResizeObserver(_e))}function Ue(e,t){p||De();const n=xe(e);return n.forEach(s=>{let r=S.get(s);r||(r=new Set,S.set(s,r)),r.add(t),p?.observe(s)}),()=>{n.forEach(s=>{const r=S.get(s);r?.delete(t),r?.size||p?.unobserve(s)})}}const W=new Set;let v;function Ye(){v=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};W.forEach(t=>t(e))},window.addEventListener("resize",v)}function Xe(e){return W.add(e),v||Ye(),()=>{W.delete(e),!W.size&&typeof v=="function"&&(window.removeEventListener("resize",v),v=void 0)}}function je(e,t){return typeof e=="function"?Xe(e):Ue(e,t)}const w=new WeakMap,D=new WeakMap,T=new WeakMap,U=e=>e===document.scrollingElement?window:e;function te(e,{container:t=document.scrollingElement,...n}={}){if(!t)return Z;let s=T.get(t);s||(s=new Set,T.set(t,s));const r=ke(),o=$e(t,e,r,n);if(s.add(o),!w.has(t)){const l=()=>{for(const d of s)d.measure(Q.timestamp);y.preUpdate(c)},c=()=>{for(const d of s)d.notify()},a=()=>y.read(l);w.set(t,a);const u=U(t);window.addEventListener("resize",a,{passive:!0}),t!==document.documentElement&&D.set(t,je(t,a)),u.addEventListener("scroll",a,{passive:!0}),a()}const i=w.get(t);return y.read(i,!1,!0),()=>{var l;C(i);const c=T.get(t);if(!c||(c.delete(o),c.size))return;const a=w.get(t);w.delete(t),a&&(U(t).removeEventListener("scroll",a),(l=D.get(t))==null||l(),window.removeEventListener("resize",a))}}const Y=new Map;function Ge(e){const t={value:0},n=te(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function se({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const r=Y.get(t)??new Map;Y.set(t,r);const o=n.target??"self",i=r.get(o)??{},l=s+(n.offset??[]).join(",");return i[l]||(i[l]=!n.target&&Le()?new ScrollTimeline({source:t,axis:s}):Ge({container:t,...n})),i[l]}function ne(e,t){let n;const s=()=>{const{currentTime:r}=t,i=(r===null?0:r.value)/100;n!==i&&e(i),n=i};return y.preUpdate(s,!0),()=>C(s)}function Ke(e,t){const n=se(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),ne(r=>{s.time=s.duration*r},n))})}function Je(e){return e.length===2}function Ze(e,t){return Je(e)?te(n=>{e(n[t.axis].progress,n)},t):ne(e,se(t))}function Qe(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Z;const r={axis:t,container:n,...s};return typeof e=="function"?Ze(e,r):Ke(e,r)}function X(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],r=e[1+n],o=e[2+n],i=e[3+n],l=J(r,o,i);return t?l(s):l}function re(e){const t=m(e()),n=()=>t.set(e()),s=()=>y.preRender(n,!1,!0);let r;const o=l=>{r=l.map(c=>c.on("change",s))},i=()=>{r.forEach(l=>l()),C(n)};return ie(()=>{i()}),{subscribe:o,unsubscribe:i,value:t,updateValue:n}}function et(e){h.current=[];const{value:t,subscribe:n,unsubscribe:s,updateValue:r}=re(e);return n(h.current),h.current=void 0,K(()=>{s(),h.current=[],r(),n(h.current),h.current=void 0}),t}function tt(e,t,n,s){if(typeof e=="function")return et(e);const r=x(t)?A(()=>X(t.value,n,s)):X(t,n,s);return Array.isArray(e)?j(e,r):j([e],([o])=>x(r)?r.value(o):r(o))}function j(e,t){const n=[],{value:s,subscribe:r}=re(()=>{n.length=0;const o=e.length;for(let i=0;i<o;i++)n[i]=e[i].get();return x(t)?t.value(n):t(n)});return r(e),s}function G(e){return typeof e=="number"?e:parseFloat(e)}function st(e,t={}){let n=null;const s=m($(e)?G(e.get()):e);let r=s.get(),o=()=>{};const i=()=>{n&&(n.stop(),n=null)},l=()=>{const c=n;c?.time===0&&c.sample(Q.delta),i();const a=x(t)?t.value:t;n=Se({keyframes:[s.get(),r],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:o})};return le(()=>x(t)?t.value:t,()=>{s.attach((c,a)=>(r=c,o=a,y.update(l),s.get()),i)},{immediate:!0}),$(e)&&e.on("change",c=>{s.set(G(c))}),s}const nt=typeof window>"u";function rt(){return{scrollX:m(0),scrollY:m(0),scrollXProgress:m(0),scrollYProgress:m(0)}}function ot(e={}){const t=rt();return K(n=>{if(nt)return;const s=Qe((r,{x:o,y:i})=>{t.scrollX.set(o.current),t.scrollXProgress.set(o.progress),t.scrollY.set(i.current),t.scrollYProgress.set(i.progress)},{offset:b(e.offset),axis:b(e.axis),container:F(e.container),target:F(e.target)});n(()=>{s()})},{flush:"post"}),t}const it={slots:{root:"relative",container:"flex flex-col gap-y-8 sm:gap-y-12 lg:gap-y-16",indicator:"absolute hidden lg:block overflow-hidden inset-y-3 start-32 h-full w-px bg-border -ms-[8.5px]",beam:"absolute start-0 top-0 w-full bg-primary will-change-[height]"}},pt={__name:"UChangelogVersions",props:{as:{type:null,required:!1},versions:{type:Array,required:!1},indicator:{type:Boolean,required:!1,default:!0},indicatorMotion:{type:[Boolean,Object],required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=ae(),s=()=>ge(n,["default","indicator"]),r=ce(),o=A(()=>pe(typeof t.indicatorMotion=="object"?t.indicatorMotion:{},{damping:30,restDelta:.001})),{scrollYProgress:i}=ot(),l=st(i,o),c=tt(()=>`${l.get()*100}%`),a=A(()=>R({extend:R(it),...r.ui?.changelogVersions||{}})());return(u,d)=>(g(),z(b(he),{as:e.as,"data-slot":"root",class:L(a.value.root({class:[t.ui?.root,t.class]}))},{default:V(()=>[t.indicator||n.indicator?(g(),H("div",{key:0,"data-slot":"indicator",class:L(a.value.indicator({class:t.ui?.indicator}))},[B(u.$slots,"indicator",{},()=>[t.indicatorMotion?(g(),z(b(We),{key:0,"data-slot":"beam",class:L(a.value.beam({class:t.ui?.beam})),style:ue({height:b(c)})},null,8,["class","style"])):k("",!0)])],2)):k("",!0),e.versions?.length||n.default?(g(),H("div",{key:1,"data-slot":"container",class:L(a.value.container({class:t.ui?.container}))},[B(u.$slots,"default",{},()=>[(g(!0),H(fe,null,P(e.versions,(f,E)=>(g(),z(ze,I({key:E,indicator:!!t.indicator},{ref_for:!0},f),de({_:2},[P(s(),(lt,O)=>({name:O,fn:V(oe=>[B(u.$slots,O,I({ref_for:!0},oe,{version:f}))])}))]),1040,["indicator"]))),128))])],2)):k("",!0)]),_:3},8,["as","class"]))}};export{pt as default};
