import{C as T,a1 as B,I as g,e as i,w as l,a0 as h,aw as $,ax as x,G as t,ay as U,cV as R,M as m,az as G,V as J,r as E,cW as Q,O as A,Z as X,o as H,aB as N,g as O,a6 as C,aO as Z,A as Y,t as M,aR as ee,aJ as te,at as oe,a3 as z,ac as ae,aC as ne,cX as se,a2 as re,cg as ie,y as le,a4 as de,cU as ue,an as F,aQ as ce,f as D,d as L,n as I,F as pe,D as fe,a7 as K}from"./DgrZHqjH.js";import ge from"./B-gF0xIj.js";import{_ as ve,a as me,b as ye,c as be}from"./D4LdA1v_.js";import{u as he}from"./DQFnD_aJ.js";import{u as Ce}from"./Jl5S_6qn.js";const _e=T({__name:"TooltipArrow",props:{width:{default:10},height:{default:5},asChild:{type:Boolean},as:{default:"svg"}},setup(s){const d=s;return B(),(e,u)=>(i(),g(t(ve),$(x(d)),{default:l(()=>[h(e.$slots,"default")]),_:3},16))}}),V="tooltip.open",[S,we]=U("TooltipRoot"),Pe=T({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(s,{emit:d}){const e=s,u=d;B();const o=R(),f=m(()=>e.disableHoverableContent??o.disableHoverableContent.value),p=m(()=>e.disableClosingTrigger??o.disableClosingTrigger.value),c=m(()=>e.disabled??o.disabled.value),v=m(()=>e.delayDuration??o.delayDuration.value),b=m(()=>e.ignoreNonKeyboardFocus??o.ignoreNonKeyboardFocus.value),a=G(e,"open",u,{defaultValue:e.defaultOpen,passive:e.open===void 0});J(a,k=>{o.onClose&&(k?(o.onOpen(),document.dispatchEvent(new CustomEvent(V))):o.onClose())});const n=E(!1),r=E(),_=m(()=>a.value?n.value?"delayed-open":"instant-open":"closed"),{start:w,stop:P}=Q(()=>{n.value=!0,a.value=!0},v,{immediate:!1});function y(){P(),n.value=!1,a.value=!0}function q(){P(),a.value=!1}function W(){w()}return we({contentId:"",open:a,stateAttribute:_,trigger:r,onTriggerChange(k){r.value=k},onTriggerEnter(){o.isOpenDelayed.value?W():y()},onTriggerLeave(){f.value?q():P()},onOpen:y,onClose:q,disableHoverableContent:f,disableClosingTrigger:p,disabled:c,ignoreNonKeyboardFocus:b}),(k,$e)=>(i(),g(t(me),null,{default:l(()=>[h(k.$slots,"default",{open:t(a)})]),_:3}))}}),j=T({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(s,{emit:d}){const e=s,u=d,o=S(),{forwardRef:f}=B(),p=A(),c=m(()=>p.default?.({})),v=m(()=>{if(e.ariaLabel)return e.ariaLabel;let a="";function n(r){typeof r.children=="string"&&r.type!==X?a+=r.children:Array.isArray(r.children)&&r.children.forEach(_=>n(_))}return c.value?.forEach(r=>n(r)),a}),b=m(()=>{const{ariaLabel:a,...n}=e;return n});return H(()=>{N(window,"scroll",a=>{a.target?.contains(o.trigger.value)&&o.onClose()}),N(window,V,o.onClose)}),(a,n)=>(i(),g(t(te),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:n[0]||(n[0]=r=>u("escapeKeyDown",r)),onPointerDownOutside:n[1]||(n[1]=r=>{t(o).disableClosingTrigger.value&&t(o).trigger.value?.contains(r.target)&&r.preventDefault(),u("pointerDownOutside",r)}),onFocusOutside:n[2]||(n[2]=ee(()=>{},["prevent"])),onDismiss:n[3]||(n[3]=r=>t(o).onClose())},{default:l(()=>[O(t(ye),C({ref:t(f),"data-state":t(o).stateAttribute.value},{...a.$attrs,...b.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:l(()=>[h(a.$slots,"default"),O(t(Z),{id:t(o).contentId,role:"tooltip"},{default:l(()=>[Y(M(v.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),Te=T({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(s){const e=oe(s),{forwardRef:u,currentElement:o}=B(),{trigger:f,onClose:p}=S(),c=R(),{isPointerInTransit:v,onPointerExit:b}=Ce(f,o);return c.isPointerInTransitRef=v,b(()=>{p()}),(a,n)=>(i(),g(j,C({ref:t(u)},t(e)),{default:l(()=>[h(a.$slots,"default")]),_:3},16))}}),Be=T({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(s,{emit:d}){const e=s,u=d,o=S(),f=z(e,u),{forwardRef:p}=B();return(c,v)=>(i(),g(t(ne),{present:c.forceMount||t(o).open.value},{default:l(()=>[(i(),g(ae(t(o).disableHoverableContent.value?j:Te),C({ref:t(p)},t(f)),{default:l(()=>[h(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ke=T({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const d=s;return(e,u)=>(i(),g(t(se),$(x(d)),{default:l(()=>[h(e.$slots,"default")]),_:3},16))}}),Oe=T({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(s){const d=s,e=S(),u=R();e.contentId||=he(void 0,"reka-tooltip-content");const{forwardRef:o,currentElement:f}=B(),p=E(!1),c=E(!1),v=m(()=>e.disabled.value?{}:{click:P,focus:_,pointermove:n,pointerleave:r,pointerdown:a,blur:w});H(()=>{e.onTriggerChange(f.value)});function b(){setTimeout(()=>{p.value=!1},1)}function a(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),p.value=!0,document.addEventListener("pointerup",b,{once:!0})}function n(y){y.pointerType!=="touch"&&!c.value&&!u.isPointerInTransitRef.value&&(e.onTriggerEnter(),c.value=!0)}function r(){e.onTriggerLeave(),c.value=!1}function _(y){p.value||e.ignoreNonKeyboardFocus.value&&!y.target.matches?.(":focus-visible")||e.onOpen()}function w(){e.onClose()}function P(){e.disableClosingTrigger.value||e.onClose()}return(y,q)=>(i(),g(t(be),{"as-child":"",reference:y.reference},{default:l(()=>[O(t(re),C({ref:t(o),"aria-describedby":t(e).open.value?t(e).contentId:void 0,"data-state":t(e).stateAttribute.value,as:y.as,"as-child":d.asChild,"data-grace-area-trigger":""},ie(v.value)),{default:l(()=>[h(y.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),De={slots:{content:"flex items-center gap-1 bg-default text-highlighted shadow-sm rounded-sm ring ring-default h-6 px-2.5 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-tooltip-content-transform-origin) pointer-events-auto",arrow:"fill-default",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 not-first-of-type:before:content-['Â·'] not-first-of-type:before:me-0.5",kbdsSize:"sm"}},Le={__name:"UTooltip",props:{text:{type:String,required:!1},kbds:{type:Array,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(s,{emit:d}){const e=s,u=d,o=A(),f=le(),p=z(de(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","disabled","ignoreNonKeyboardFocus"),u),c=ue(F(()=>e.portal)),v=F(()=>ce(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),b=F(()=>e.arrow),a=m(()=>K({extend:K(De),...f.ui?.tooltip||{}})({side:v.value.side}));return(n,r)=>(i(),g(t(Pe),$(x(t(p))),{default:l(({open:_})=>[o.default||s.reference?(i(),g(t(Oe),C({key:0},n.$attrs,{"as-child":"",reference:s.reference,class:e.class}),{default:l(()=>[h(n.$slots,"default",{open:_})]),_:2},1040,["reference","class"])):D("",!0),O(t(ke),$(x(t(c))),{default:l(()=>[O(t(Be),C(v.value,{class:a.value.content({class:[!o.default&&e.class,e.ui?.content]})}),{default:l(()=>[h(n.$slots,"content",{},()=>[s.text?(i(),L("span",{key:0,class:I(a.value.text({class:e.ui?.text}))},M(s.text),3)):D("",!0),s.kbds?.length?(i(),L("span",{key:1,class:I(a.value.kbds({class:e.ui?.kbds}))},[(i(!0),L(pe,null,fe(s.kbds,(w,P)=>(i(),g(ge,C({key:P,size:e.ui?.kbdsSize||a.value.kbdsSize()},{ref_for:!0},typeof w=="string"?{value:w}:w),null,16,["size"]))),128))],2)):D("",!0)]),s.arrow?(i(),g(t(_e),C({key:0},b.value,{class:a.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):D("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16))}};export{Le as default};
