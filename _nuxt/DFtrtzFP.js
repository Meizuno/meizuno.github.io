import{D as de,ae as ve,ai as pe,b5 as me,r as k,J as i,b as ce,af as ie,b9 as L,P as Y,W as S,f,w as M,X as _,h as be,H as t,av as ye,a7 as Z,an as he,ab as ge,ax as qe,a_ as xe,Y as ze,z as Ie,ap as Fe,bV as Se,bR as Ce,a9 as Te,aa as Ve,e as Q,g as G,E as $e,n as O,B as ke,t as Ae,F as Be,K as le,a6 as je,a8 as se}from"./BTXGmdcq.js";import{u as Oe,v as _e,w as ne,x as Ee,i as re,y as we,l as Re,j as De}from"./CssSCxdY.js";import{n as Ne,a as Pe,e as oe,f as Ke,j as ue,b as Le,d as Ge,u as He}from"./4GyaYiSo.js";import{u as Me}from"./DvJmaCIR.js";import{u as Ze}from"./kRIii9yh.js";import{u as Ue}from"./eQU8GzBM.js";const[We,Je]=ve("TimeFieldRoot");function H(r,h=_e(Re())){return r&&"day"in r?r:we(h,r)}var Xe=de({inheritAttrs:!1,__name:"TimeFieldRoot",props:{defaultValue:{type:Object,required:!1,default:void 0},defaultPlaceholder:{type:Object,required:!1},placeholder:{type:Object,required:!1,default:void 0},modelValue:{type:[Object,null],required:!1},hourCycle:{type:null,required:!1},step:{type:Object,required:!1},granularity:{type:String,required:!1},hideTimeZone:{type:Boolean,required:!1},maxValue:{type:Object,required:!1},minValue:{type:Object,required:!1},locale:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},id:{type:String,required:!1},dir:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:placeholder"],setup(r,{expose:h,emit:l}){const a=r,v=l,{disabled:d,readonly:C,granularity:T,defaultValue:q,minValue:x,maxValue:z,dir:c,locale:E}=pe(a),p=Ue(E),A=Me(c),b=Oe(p.value,{hourCycle:Ne(a.hourCycle)}),{primitiveElement:U,currentElement:w}=me(),o=k(new Set),W=i(()=>Pe(a)),R=i(()=>x.value?H(x.value):void 0),V=i(()=>z.value?H(z.value):void 0);ce(()=>{oe(w.value).forEach(e=>o.value.add(e))});const s=ie(a,"modelValue",v,{defaultValue:q.value,passive:a.modelValue===void 0}),m=i({get(){return L(s.value)?s.value:H(s.value)},set(e){return e?s.value=s.value&&"day"in s.value?e:new ne(e.hour,e.minute,e.second,s.value?.millisecond):s.value=e,e}}),D=Ee({defaultPlaceholder:a.placeholder,defaultValue:s.value}),I=ie(a,"placeholder",v,{defaultValue:a.defaultPlaceholder??D.copy(),passive:a.placeholder===void 0}),n=i({get(){return H(I.value)},set(e){return e&&(I.value="day"in I.value?e.copy():new ne(e.hour,e.minute,e.second,I.value?.millisecond)),e}}),$=i(()=>T.value?T.value:"minute"),B=i(()=>s.value?!!(R.value&&re(m.value,R.value)||V.value&&re(V.value,m.value)):!1),N=Ke($.value),F=k(s.value?{...ue({value:m.value,formatter:b})}:{...N}),J=i(()=>Le({granularity:$.value,dateRef:n.value,formatter:b,hideTimeZone:a.hideTimeZone,hourCycle:a.hourCycle,segmentValues:F.value,locale:p,isTimeValue:!0})),u=i(()=>J.value.arr),P=i(()=>u.value.filter(({part:e})=>e!=="literal"));Y(p,e=>{b.getLocale()!==e&&(b.setLocale(e),qe(()=>{o.value.clear(),oe(w.value).forEach(y=>o.value.add(y))}))}),Y(m,e=>{!L(e)&&(!De(n.value,e)||n.value.compare(e)!==0)&&(I.value=e.copy())}),Y([m,p],([e])=>{L(e)?Object.values(F.value).every(y=>y!==null)&&L(e)&&(F.value={...N}):F.value={...ue({value:e,formatter:b})}});const K=k(null),g=i(()=>Array.from(o.value).findIndex(e=>e.getAttribute("data-reka-time-field-segment")===K.value?.getAttribute("data-reka-time-field-segment"))),j=i(()=>{const e=A.value==="rtl"?-1:1;return(e<0?g.value<0:g.value>o.value.size-1)?null:Array.from(o.value)[g.value+e]}),X=i(()=>{const e=A.value==="rtl"?-1:1;return(e>0?g.value<0:g.value>o.value.size-1)?null:Array.from(o.value)[g.value-e]}),ee=Ze();function fe(e){Ge(e.key)&&(e.key===ee.ARROW_LEFT&&X.value?.focus(),e.key===ee.ARROW_RIGHT&&j.value?.focus())}function ae(e){K.value=e}return Je({locale:p,modelValue:m,placeholder:n,disabled:d,formatter:b,hourCycle:a.hourCycle,step:W,readonly:C,segmentValues:F,isInvalid:B,segmentContents:P,elements:o,setFocusedElement:ae,focusNext(){j.value?.focus()}}),h({setFocusedElement:ae}),(e,y)=>(f(),S(t(ge),Z(e.$attrs,{ref_key:"primitiveElement",ref:U,role:"group","aria-disabled":t(d)?!0:void 0,"data-disabled":t(d)?"":void 0,"data-readonly":t(C)?"":void 0,"data-invalid":B.value?"":void 0,dir:t(A),onKeydown:he(fe,["left","right"])}),{default:M(()=>[_(e.$slots,"default",{modelValue:t(s),segments:u.value,isInvalid:B.value}),be(t(ye),{id:e.id,as:"input",feature:"focusable",tabindex:"-1",value:t(s)?t(s).toString():"",name:e.name,disabled:t(d),required:e.required,onFocus:y[0]||(y[0]=te=>Array.from(o.value)?.[0]?.focus())},null,8,["id","value","name","disabled","required"])]),_:3},16,["aria-disabled","data-disabled","data-readonly","data-invalid","dir"]))}}),Ye=Xe,Qe=de({__name:"TimeFieldInput",props:{part:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const h=r,l=We(),a=k(!0),v=k(!1),{handleSegmentClick:d,handleSegmentKeydown:C,attributes:T}=He({hasLeftFocus:a,lastKeyZero:v,placeholder:l.placeholder,hourCycle:l.hourCycle,step:l.step,segmentValues:l.segmentValues,formatter:l.formatter,part:h.part,disabled:l.disabled,readonly:l.readonly,focusNext:l.focusNext,modelValue:l.modelValue}),q=i(()=>l.disabled.value),x=i(()=>l.readonly.value),z=i(()=>l.isInvalid.value);return(c,E)=>(f(),S(t(ge),Z({as:c.as,"as-child":c.asChild},t(T),{contenteditable:q.value||x.value?!1:c.part!=="literal","data-reka-time-field-segment":c.part,"aria-disabled":q.value?!0:void 0,"aria-readonly":x.value?!0:void 0,"data-disabled":q.value?"":void 0,"data-invalid":z.value?"":void 0,"aria-invalid":z.value?!0:void 0},xe(c.part!=="literal"?{mousedown:t(d),keydown:t(C),focusout:()=>{a.value=!0},focusin:p=>{t(l).setFocusedElement(p.target)}}:{})),{default:M(()=>[_(c.$slots,"default")]),_:3},16,["as","as-child","contenteditable","data-reka-time-field-segment","aria-disabled","aria-readonly","data-disabled","data-invalid","aria-invalid"]))}}),ea=Qe;const aa={slots:{base:["group relative inline-flex items-center rounded-md select-none","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",segment:["rounded text-center outline-hidden data-placeholder:text-dimmed data-[segment=literal]:text-muted data-invalid:text-error data-disabled:cursor-not-allowed data-disabled:opacity-75","transition-colors"]},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:["px-2 py-1 text-xs gap-1","gap-0.25"],leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",segment:"not-data-[segment=literal]:w-6"},sm:{base:["px-2.5 py-1.5 text-xs gap-1.5","gap-0.5"],leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",segment:"not-data-[segment=literal]:w-6"},md:{base:["px-2.5 py-1.5 text-sm gap-1.5","gap-0.5"],leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",segment:"not-data-[segment=literal]:w-7"},lg:{base:["px-3 py-2 text-sm gap-2","gap-0.75"],leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",segment:"not-data-[segment=literal]:w-7"},xl:{base:["px-3 py-2 text-base gap-2","gap-0.75"],leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",segment:"not-data-[segment=literal]:w-8"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",important:"",info:"",success:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{variant:"outline",class:{segment:"focus:bg-elevated"}},{variant:"soft",class:{segment:"focus:bg-accented/50 group-hover:focus:bg-accented"}},{variant:"subtle",class:{segment:"focus:bg-accented"}},{variant:"ghost",class:{segment:"focus:bg-elevated group-hover:focus:bg-accented"}},{variant:"none",class:{segment:"focus:bg-elevated"}},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"important",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-important"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"important",highlight:!0,class:"ring ring-inset ring-important"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},oa={__name:"UInputTime",props:{as:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},highlight:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:Object,required:!1},defaultPlaceholder:{type:Object,required:!1},placeholder:{type:Object,required:!1},modelValue:{type:[Object,null],required:!1},hourCycle:{type:null,required:!1},step:{type:Object,required:!1},granularity:{type:String,required:!1},hideTimeZone:{type:Boolean,required:!1},maxValue:{type:Object,required:!1},minValue:{type:Object,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["change","blur","focus","update:modelValue","update:placeholder"],setup(r,{expose:h,emit:l}){const a=r,v=l,d=ze(),C=Ie(),T=Fe(Se(a,"id","name","color","variant","size","highlight","disabled","autofocus","autofocusDelay","icon","avatar","leading","leadingIcon","trailing","trailingIcon","loading","loadingIcon","class","ui"),v),{emitFormBlur:q,emitFormFocus:x,emitFormChange:z,emitFormInput:c,id:E,color:p,size:A,name:b,highlight:U,disabled:w,ariaAttrs:o}=Ce(a),{orientation:W,size:R}=Te(a),{isLeading:V,isTrailing:s,leadingIconName:m,trailingIconName:D}=Ve(a),I=i(()=>R.value||A.value),n=i(()=>se({extend:se(aa),...C.ui?.inputTime||{}})({color:p.value,variant:a.variant,size:I.value,loading:a.loading,highlight:U.value,leading:V.value||!!a.avatar||!!d.leading,trailing:s.value||!!d.trailing,fieldGroup:W.value})),$=k([]);function B(u){const P=new Event("change",{target:{value:u}});v("change",P),z(),c()}function N(u){q(),v("blur",u)}function F(u){x(),v("focus",u)}function J(){a.autofocus&&$.value[0]?.$el?.focus()}return ce(()=>{setTimeout(()=>{J()},a.autofocusDelay)}),h({inputsRef:$}),(u,P)=>(f(),S(t(Ye),Z({...t(T),...t(o)},{id:t(E),name:t(b),disabled:t(w),"data-slot":"base",class:n.value.base({class:[a.ui?.base,a.class]}),"onUpdate:modelValue":B,onBlur:N,onFocus:F}),{default:M(({segments:K})=>[(f(!0),Q(Be,null,$e(K,(g,j)=>(f(),S(t(ea),{key:`${g.part}-${j}`,ref_for:!0,ref:X=>$.value[j]=X,part:g.part,"data-slot":"segment",class:O(n.value.segment({class:a.ui?.segment}))},{default:M(()=>[ke(Ae(g.value.trim()),1)]),_:2},1032,["part","class"]))),128)),_(u.$slots,"default",{ui:n.value}),t(V)||r.avatar||d.leading?(f(),Q("span",{key:0,"data-slot":"leading",class:O(n.value.leading({class:a.ui?.leading}))},[_(u.$slots,"leading",{ui:n.value},()=>[t(V)&&t(m)?(f(),S(le,{key:0,name:t(m),"data-slot":"leadingIcon",class:O(n.value.leadingIcon({class:a.ui?.leadingIcon}))},null,8,["name","class"])):r.avatar?(f(),S(je,Z({key:1,size:a.ui?.leadingAvatarSize||n.value.leadingAvatarSize()},r.avatar,{"data-slot":"leadingAvatar",class:n.value.leadingAvatar({class:a.ui?.leadingAvatar})}),null,16,["size","class"])):G("",!0)])],2)):G("",!0),t(s)||d.trailing?(f(),Q("span",{key:1,"data-slot":"trailing",class:O(n.value.trailing({class:a.ui?.trailing}))},[_(u.$slots,"trailing",{ui:n.value},()=>[t(D)?(f(),S(le,{key:0,name:t(D),"data-slot":"trailingIcon",class:O(n.value.trailingIcon({class:a.ui?.trailingIcon}))},null,8,["name","class"])):G("",!0)])],2)):G("",!0)]),_:3},16,["id","name","disabled","class"]))}};export{oa as default};
