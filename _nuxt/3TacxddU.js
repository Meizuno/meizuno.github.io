import{J as x,H as e,D as h,ag as V,W as c,f as v,w as f,h as T,ab as k,a7 as g,X as y,ae as X,b5 as Z,ai as ne,af as H,r as I,b as F,M as me,bi as ce,Z as ue,ax as J,a4 as ve,d as Q,ao as be,aB as he,g as Y,ac as E,ap as ye,ar as _e,B as ie,P as se,an as ge,aF as Ce,t as qe,ad as L,b2 as xe}from"./r87NNr1M.js";import{c as Se,a as Be,b as Ie,P as we}from"./CkL-Al-B.js";import{u as z}from"./7cgco4TI.js";import{u as Oe,a as Ve}from"./Dt2rK7YK.js";import{f as Ee,c as ke,e as Fe,g as Pe,b as De,L as Ne,a as Re,d as $e}from"./xO-2bJM1.js";import{u as Le}from"./DDDiGe6x.js";function Te(n){const s=x(()=>e(n)),o=x(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(i,l)=>l.length===0?!0:(i=i.normalize("NFC"),l=l.normalize("NFC"),o.value.compare(i.slice(0,l.length),l)===0),endsWith:(i,l)=>l.length===0?!0:(i=i.normalize("NFC"),l=l.normalize("NFC"),o.value.compare(i.slice(-l.length),l)===0),contains:(i,l)=>{if(l.length===0)return!0;i=i.normalize("NFC"),l=l.normalize("NFC");let d=0;const C=l.length;for(;d+C<=i.length;d++){const p=i.slice(d,d+C);if(o.value.compare(l,p)===0)return!0}return!1}}}var ze=h({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{forwardRef:s}=V();return(o,r)=>(v(),c(e(Se),{"as-child":"",reference:o.reference},{default:f(()=>[T(e(k),g({ref:e(s),"as-child":o.asChild,as:o.as},o.$attrs),{default:f(()=>[y(o.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),ft=ze;const[S,Ge]=X("ComboboxRoot");var Me=h({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(n,{expose:s,emit:o}){const r=n,t=o,{primitiveElement:a,currentElement:i}=Z(),{multiple:l,disabled:d,ignoreFilter:C,resetSearchTermOnSelect:p,openOnFocus:q,openOnClick:_,dir:b,resetModelValueOnClear:u,highlightOnHover:B}=ne(r),G=Le(b),P=H(r,"modelValue",t,{defaultValue:r.defaultValue??(l.value?[]:void 0),passive:r.modelValue===void 0,deep:!0}),D=H(r,"open",t,{defaultValue:r.defaultOpen,passive:r.open===void 0});async function pe(m){D.value=m,N.value="",m?(await J(),a.value?.highlightSelected(),M.value=!0):M.value=!1,A.value?.focus(),setTimeout(()=>{!m&&r.resetSearchTermOnBlur&&ee.trigger()},1)}const ee=ce(),M=I(!1),te=I(!1),A=I(),oe=I(),ae=x(()=>a.value?.highlightedElement??void 0),j=I(new Map),K=I(new Map),{contains:fe}=Te({sensitivity:"base"}),N=I(""),re=x(m=>{if(!N.value||r.ignoreFilter||te.value)return{count:j.value.size,items:m?.items??new Map,groups:m?.groups??new Set(K.value.keys())};let w=0;const O=new Map,le=new Set;for(const[W,U]of j.value){const $=fe(U,N.value);O.set(W,$?1:0),$&&w++}for(const[W,U]of K.value)for(const $ of U)if(O.get($)>0){le.add(W);break}return{count:w,items:O,groups:le}}),R=me();return F(()=>{R?.exposed&&(R.exposed.highlightItem=a.value?.highlightItem,R.exposed.highlightFirstItem=a.value?.highlightFirstItem,R.exposed.highlightSelected=a.value?.highlightSelected)}),s({filtered:re,highlightedElement:ae,highlightItem:a.value?.highlightItem,highlightFirstItem:a.value?.highlightFirstItem,highlightSelected:a.value?.highlightSelected}),Ge({modelValue:P,multiple:l,disabled:d,open:D,onOpenChange:pe,contentId:"",isUserInputted:M,isVirtual:te,inputElement:A,highlightedElement:ae,onInputElementChange:m=>A.value=m,triggerElement:oe,onTriggerElementChange:m=>oe.value=m,parentElement:i,resetSearchTermOnSelect:p,onResetSearchTerm:ee.on,allItems:j,allGroups:K,filterSearch:N,filterState:re,ignoreFilter:C,openOnFocus:q,openOnClick:_,resetModelValueOnClear:u}),(m,w)=>(v(),c(e(Be),null,{default:f(()=>[T(e(Ee),g({ref_key:"primitiveElement",ref:a},m.$attrs,{modelValue:e(P),"onUpdate:modelValue":w[0]||(w[0]=O=>ue(P)?P.value=O:null),style:{pointerEvents:e(D)?"auto":void 0},as:m.as,"as-child":m.asChild,dir:e(G),multiple:e(l),name:m.name,required:m.required,disabled:e(d),"highlight-on-hover":e(B),by:r.by,onHighlight:w[1]||(w[1]=O=>t("highlight",O))}),{default:f(()=>[y(m.$slots,"default",{open:e(D),modelValue:e(P)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),mt=Me;const[Ae,je]=X("ComboboxContent");var Ke=h({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const o=n,r=s,{position:t}=ne(o),a=S(),{forwardRef:i,currentElement:l}=V();Oe(o.bodyLock),Ve(a.parentElement);const d=x(()=>o.position==="popper"?o:{}),C=ve(d.value),p={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};je({position:t});const q=I(!1);return F(()=>{a.inputElement.value&&(q.value=l.value.contains(a.inputElement.value),q.value&&a.inputElement.value.focus())}),Q(()=>{q.value&&a.triggerElement.value?.focus()}),(_,b)=>(v(),c(e(ke),{"as-child":""},{default:f(()=>[T(e(be),{"as-child":"","disable-outside-pointer-events":_.disableOutsidePointerEvents,onDismiss:b[0]||(b[0]=u=>e(a).onOpenChange(!1)),onFocusOutside:b[1]||(b[1]=u=>{e(a).parentElement.value?.contains(u.target)&&u.preventDefault(),r("focusOutside",u)}),onInteractOutside:b[2]||(b[2]=u=>r("interactOutside",u)),onEscapeKeyDown:b[3]||(b[3]=u=>r("escapeKeyDown",u)),onPointerDownOutside:b[4]||(b[4]=u=>{e(a).parentElement.value?.contains(u.target)&&u.preventDefault(),r("pointerDownOutside",u)})},{default:f(()=>[(v(),c(he(e(t)==="popper"?e(Ie):e(k)),g({..._.$attrs,...e(C)},{id:e(a).contentId,ref:e(i),"data-state":e(a).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(t)==="popper"?p:{}}}),{default:f(()=>[y(_.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),We=Ke,Ue=h({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(n){const s=n,o=S(),r=Ae();return V(),(t,a)=>e(o).open.value&&e(r).position.value==="popper"?(v(),c(e(we),E(g({key:0},s)),{default:f(()=>[y(t.$slots,"default")]),_:3},16)):Y("v-if",!0)}}),ct=Ue,He=h({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:s}){const t=ye(n,s),{forwardRef:a}=V(),i=S();return i.contentId||=z(void 0,"reka-combobox-content"),(l,d)=>(v(),c(e(_e),{present:l.forceMount||e(i).open.value},{default:f(()=>[T(We,g({...e(t),...l.$attrs},{ref:e(a)}),{default:f(()=>[y(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),vt=He,Je=h({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,o=S(),r=x(()=>o.ignoreFilter.value?o.allItems.value.size===0:o.filterState.value.count===0);return(t,a)=>r.value?(v(),c(e(k),E(g({key:0},s)),{default:f(()=>[y(t.$slots,"default",{},()=>[a[0]||(a[0]=ie("No options"))])]),_:3},16)):Y("v-if",!0)}}),bt=Je;const[de,Xe]=X("ComboboxGroup");var Ze=h({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n,o=z(void 0,"reka-combobox-group"),r=S(),t=x(()=>r.ignoreFilter.value?!0:r.filterSearch.value?r.filterState.value.groups.has(o):!0),a=Xe({id:o,labelId:""});return F(()=>{r.allGroups.value.has(o)||r.allGroups.value.set(o,new Set)}),Q(()=>{r.allGroups.value.delete(o)}),(i,l)=>(v(),c(e(Fe),g({id:e(o),"aria-labelledby":e(a).labelId},s,{hidden:t.value?void 0:!0}),{default:f(()=>[y(i.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),ht=Ze,Qe=h({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:s}){const o=n,r=s,t=S(),a=Pe(),{primitiveElement:i,currentElement:l}=Z(),d=H(o,"modelValue",r,{passive:o.modelValue===void 0});F(()=>{l.value&&t.onInputElementChange(l.value)});function C(u){t.open.value||t.onOpenChange(!0)}function p(u){const B=u.target;t.open.value?t.filterSearch.value=B.value:(t.onOpenChange(!0),J(()=>{B.value&&(t.filterSearch.value=B.value,a.highlightFirstItem())}))}function q(){t.openOnFocus.value&&!t.open.value&&t.onOpenChange(!0)}function _(){t.openOnClick.value&&!t.open.value&&t.onOpenChange(!0)}function b(){const u=t.modelValue.value;o.displayValue?d.value=o.displayValue(u):!t.multiple.value&&u&&!Array.isArray(u)&&typeof u!="object"?d.value=u.toString():d.value="",J(()=>{d.value=d.value})}return t.onResetSearchTerm(()=>{b()}),se(t.modelValue,async()=>{!t.isUserInputted.value&&t.resetSearchTermOnSelect.value&&b()},{immediate:!0,deep:!0}),se(t.filterState,()=>{!t.isVirtual.value&&!t.highlightedElement.value&&a.highlightFirstItem()}),(u,B)=>(v(),c(e(De),{ref_key:"primitiveElement",ref:i,modelValue:e(d),"onUpdate:modelValue":B[0]||(B[0]=G=>ue(d)?d.value=G:null),as:u.as,"as-child":u.asChild,"auto-focus":u.autoFocus,disabled:u.disabled,"aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:_,onInput:p,onKeydown:ge(Ce(C,["prevent"]),["down","up"]),onFocus:q},{default:f(()=>[y(u.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),yt=Qe,Ye=h({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(n,{emit:s}){const o=n,r=s,t=z(void 0,"reka-combobox-item"),a=S(),i=de(null),{primitiveElement:l,currentElement:d}=Z();if(o.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const C=x(()=>{if(a.isVirtual.value||a.ignoreFilter.value||!a.filterSearch.value)return!0;{const p=a.filterState.value.items.get(t);return p===void 0?!0:p>0}});return F(()=>{a.allItems.value.set(t,o.textValue||d.value.textContent||d.value.innerText);const p=i?.id;p&&(a.allGroups.value.has(p)?a.allGroups.value.get(p)?.add(t):a.allGroups.value.set(p,new Set([t])))}),Q(()=>{a.allItems.value.delete(t)}),(p,q)=>C.value?(v(),c(e(Ne),g({key:0},o,{id:e(t),ref_key:"primitiveElement",ref:l,disabled:e(a).disabled.value||p.disabled,onSelect:q[0]||(q[0]=_=>{r("select",_),!_.defaultPrevented&&!e(a).multiple.value&&!p.disabled&&!e(a).disabled.value&&(_.preventDefault(),e(a).onOpenChange(!1),e(a).modelValue.value=o.value)})}),{default:f(()=>[y(p.$slots,"default",{},()=>[ie(qe(p.value),1)])]),_:3},16,["id","disabled"])):Y("v-if",!0)}}),_t=Ye,et=h({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const s=n;return(o,r)=>(v(),c(e(Re),E(L(s)),{default:f(()=>[y(o.$slots,"default")]),_:3},16))}}),gt=et,tt=h({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(n){const s=n;V();const o=de({id:"",labelId:""});return o.labelId||=z(void 0,"reka-combobox-group-label"),(r,t)=>(v(),c(e(k),g(s,{id:e(o).labelId}),{default:f(()=>[y(r.$slots,"default")]),_:3},16,["id"]))}}),Ct=tt,ot=h({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const s=n;return(o,r)=>(v(),c(e(xe),E(L(s)),{default:f(()=>[y(o.$slots,"default")]),_:3},16))}}),qt=ot,at=h({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n;return V(),(o,r)=>(v(),c(e(k),g(s,{"aria-hidden":"true"}),{default:f(()=>[y(o.$slots,"default")]),_:3},16))}}),xt=at,rt=h({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const s=n,{forwardRef:o,currentElement:r}=V(),t=S(),a=x(()=>s.disabled||t.disabled.value||!1);return F(()=>{r.value&&t.onTriggerElementChange(r.value)}),(i,l)=>(v(),c(e(k),g(s,{ref:e(o),type:i.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"data-state":e(t).open.value?"open":"closed",disabled:a.value,"data-disabled":a.value?"":void 0,"aria-disabled":a.value??void 0,onClick:l[0]||(l[0]=d=>e(t).onOpenChange(!e(t).open.value))}),{default:f(()=>[y(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),St=rt,lt=h({__name:"ComboboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(n){const s=n,o=S();return o.isVirtual.value=!0,(r,t)=>(v(),c($e,E(L(s)),{default:f(a=>[y(r.$slots,"default",E(L(a)))]),_:3},16))}}),Bt=lt;export{_t as C,Ct as a,xt as b,gt as c,ft as d,St as e,qt as f,vt as g,yt as h,bt as i,Bt as j,ht as k,ct as l,mt as m,Te as u};
