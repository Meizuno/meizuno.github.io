import{D as He,W as M,f as A,w as k,X as N,a7 as z,H as b,ab as Ge,r as $e,P as ye,J as U,aK as V,bv as xe,Y as qe,bw as We,bx as Ve,z as Ye,ap as Ue,a5 as Ce,a4 as Je,ay as Qe,az as Le,bL as Xe,bJ as Ze,e as F,h as O,bK as et,$ as tt,aA as st,aC as it,g as K,i as Ee,n as E,K as ne,a6 as nt,bM as at,aD as Y,t as Z,B as ce,F as ae,E as he,an as rt,bI as lt,G as Be,a8 as Ie}from"./r87NNr1M.js";import{i as ut,L as ot,a as ct,b as ht,c as dt,d as ft,e as gt,f as pt}from"./xO-2bJM1.js";import{c as mt}from"./CuerbVKd.js";import{g as vt}from"./CWqgYBZm.js";import bt from"./BAuEbk08.js";import{_ as At}from"./CwZk1OUt.js";import"./7cgco4TI.js";import"./C93hBZeB.js";import"./oRdeojoN.js";import"./CmU2bdSD.js";import"./DDDiGe6x.js";import"./CZvg1K4s.js";import"./kRIii9yh.js";import"./VdHJT7hv.js";import"./BqP0TK5s.js";var yt=He({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(s){const e=s,t=ut({id:""});return(n,a)=>(A(),M(b(Ge),z(e,{id:b(t).id}),{default:k(()=>[N(n.$slots,"default")]),_:3},16,["id"]))}}),xt=yt;function G(s){return Array.isArray?Array.isArray(s):Re(s)==="[object Array]"}function Ct(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Lt(s){return s==null?"":Ct(s)}function j(s){return typeof s=="string"}function Te(s){return typeof s=="number"}function Et(s){return s===!0||s===!1||Bt(s)&&Re(s)=="[object Boolean]"}function we(s){return typeof s=="object"}function Bt(s){return we(s)&&s!==null}function S(s){return s!=null}function de(s){return!s.trim().length}function Re(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const It="Incorrect 'index' type",Ft=s=>`Invalid value for key ${s}`,Mt=s=>`Pattern length exceeds max of ${s}.`,kt=s=>`Missing ${s} property in key`,Dt=s=>`Property 'weight' in key '${s}' must be a positive integer`,Fe=Object.prototype.hasOwnProperty;class St{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let a=Oe(n);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Oe(s){let e=null,t=null,n=null,a=1,i=null;if(j(s)||G(s))n=s,e=Me(s),t=fe(s);else{if(!Fe.call(s,"name"))throw new Error(kt("name"));const l=s.name;if(n=l,Fe.call(s,"weight")&&(a=s.weight,a<=0))throw new Error(Dt(l));e=Me(l),t=fe(l),i=s.getFn}return{path:e,id:t,weight:a,src:n,getFn:i}}function Me(s){return G(s)?s:s.split(".")}function fe(s){return G(s)?s.join("."):s}function _t(s,e){let t=[],n=!1;const a=(i,l,u)=>{if(S(i))if(!l[u])t.push(i);else{let o=l[u];const h=i[o];if(!S(h))return;if(u===l.length-1&&(j(h)||Te(h)||Et(h)))t.push(Lt(h));else if(G(h)){n=!0;for(let d=0,p=h.length;d<p;d+=1)a(h[d],l,u+1)}else l.length&&a(h,l,u+1)}};return a(s,j(e)?e.split("."):e,0),n?t:t[0]}const $t={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Tt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},wt={location:0,threshold:.6,distance:100},Rt={useExtendedSearch:!1,getFn:_t,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var f={...Tt,...$t,...wt,...Rt};const Ot=/[^ ]+/g;function zt(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(a){const i=a.match(Ot).length;if(t.has(i))return t.get(i);const l=1/Math.pow(i,.5*s),u=parseFloat(Math.round(l*n)/n);return t.set(i,u),u},clear(){t.clear()}}}class Ae{constructor({getFn:e=f.getFn,fieldNormWeight:t=f.fieldNormWeight}={}){this.norm=zt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,j(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();j(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!S(e)||de(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((a,i)=>{let l=a.getFn?a.getFn(e):this.getFn(e,a.path);if(S(l)){if(G(l)){let u=[];const o=[{nestedArrIndex:-1,value:l}];for(;o.length;){const{nestedArrIndex:h,value:d}=o.pop();if(S(d))if(j(d)&&!de(d)){let p={v:d,i:h,n:this.norm.get(d)};u.push(p)}else G(d)&&d.forEach((p,m)=>{o.push({nestedArrIndex:m,value:p})})}n.$[i]=u}else if(j(l)&&!de(l)){let u={v:l,n:this.norm.get(l)};n.$[i]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ze(s,e,{getFn:t=f.getFn,fieldNormWeight:n=f.fieldNormWeight}={}){const a=new Ae({getFn:t,fieldNormWeight:n});return a.setKeys(s.map(Oe)),a.setSources(e),a.create(),a}function Pt(s,{getFn:e=f.getFn,fieldNormWeight:t=f.fieldNormWeight}={}){const{keys:n,records:a}=s,i=new Ae({getFn:e,fieldNormWeight:t});return i.setKeys(n),i.setIndexRecords(a),i}function re(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:a=f.distance,ignoreLocation:i=f.ignoreLocation}={}){const l=e/s.length;if(i)return l;const u=Math.abs(n-t);return a?l+u/a:u?1:l}function Kt(s=[],e=f.minMatchCharLength){let t=[],n=-1,a=-1,i=0;for(let l=s.length;i<l;i+=1){let u=s[i];u&&n===-1?n=i:!u&&n!==-1&&(a=i-1,a-n+1>=e&&t.push([n,a]),n=-1)}return s[i-1]&&i-n>=e&&t.push([n,i-1]),t}const X=32;function Nt(s,e,t,{location:n=f.location,distance:a=f.distance,threshold:i=f.threshold,findAllMatches:l=f.findAllMatches,minMatchCharLength:u=f.minMatchCharLength,includeMatches:o=f.includeMatches,ignoreLocation:h=f.ignoreLocation}={}){if(e.length>X)throw new Error(Mt(X));const d=e.length,p=s.length,m=Math.max(0,Math.min(n,p));let c=i,C=m;const L=u>1||o,D=L?Array(p):[];let T;for(;(T=s.indexOf(e,C))>-1;){let I=re(e,{currentLocation:T,expectedLocation:m,distance:a,ignoreLocation:h});if(c=Math.min(I,c),C=T+d,L){let _=0;for(;_<d;)D[T+_]=1,_+=1}}C=-1;let w=[],q=1,H=d+p;const te=1<<d-1;for(let I=0;I<d;I+=1){let _=0,P=H;for(;_<P;)re(e,{errors:I,currentLocation:m+P,expectedLocation:m,distance:a,ignoreLocation:h})<=c?_=P:H=P,P=Math.floor((H-_)/2+_);H=P;let se=Math.max(1,m-P+1),ie=l?p:Math.min(m+P,p)+d,W=Array(ie+2);W[ie+1]=(1<<I)-1;for(let y=ie;y>=se;y-=1){let r=y-1,B=t[s.charAt(r)];if(L&&(D[r]=+!!B),W[y]=(W[y+1]<<1|1)&B,I&&(W[y]|=(w[y+1]|w[y])<<1|1|w[y+1]),W[y]&te&&(q=re(e,{errors:I,currentLocation:r,expectedLocation:m,distance:a,ignoreLocation:h}),q<=c)){if(c=q,C=r,C<=m)break;se=Math.max(1,2*m-C)}}if(re(e,{errors:I+1,currentLocation:m,expectedLocation:m,distance:a,ignoreLocation:h})>c)break;w=W}const Q={isMatch:C>=0,score:Math.max(.001,q)};if(L){const I=Kt(D,u);I.length?o&&(Q.indices=I):Q.isMatch=!1}return Q}function jt(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const a=s.charAt(t);e[a]=(e[a]||0)|1<<n-t-1}return e}const le=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class Pe{constructor(e,{location:t=f.location,threshold:n=f.threshold,distance:a=f.distance,includeMatches:i=f.includeMatches,findAllMatches:l=f.findAllMatches,minMatchCharLength:u=f.minMatchCharLength,isCaseSensitive:o=f.isCaseSensitive,ignoreDiacritics:h=f.ignoreDiacritics,ignoreLocation:d=f.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:l,minMatchCharLength:u,isCaseSensitive:o,ignoreDiacritics:h,ignoreLocation:d},e=o?e:e.toLowerCase(),e=h?le(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const p=(c,C)=>{this.chunks.push({pattern:c,alphabet:jt(c),startIndex:C})},m=this.pattern.length;if(m>X){let c=0;const C=m%X,L=m-C;for(;c<L;)p(this.pattern.substr(c,X),c),c+=X;if(C){const D=m-X;p(this.pattern.substr(D),D)}}else p(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=n?le(e):e,this.pattern===e){let L={isMatch:!0,score:0};return a&&(L.indices=[[0,e.length-1]]),L}const{location:i,distance:l,threshold:u,findAllMatches:o,minMatchCharLength:h,ignoreLocation:d}=this.options;let p=[],m=0,c=!1;this.chunks.forEach(({pattern:L,alphabet:D,startIndex:T})=>{const{isMatch:w,score:q,indices:H}=Nt(e,L,D,{location:i+T,distance:l,threshold:u,findAllMatches:o,minMatchCharLength:h,includeMatches:a,ignoreLocation:d});w&&(c=!0),m+=q,w&&H&&(p=[...p,...H])});let C={isMatch:c,score:c?m/this.chunks.length:1};return c&&a&&(C.indices=p),C}}class J{constructor(e){this.pattern=e}static isMultiMatch(e){return ke(e,this.multiRegex)}static isSingleMatch(e){return ke(e,this.singleRegex)}search(){}}function ke(s,e){const t=s.match(e);return t?t[1]:null}class Ht extends J{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Gt extends J{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class qt extends J{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Wt extends J{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Vt extends J{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Yt extends J{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ke extends J{constructor(e,{location:t=f.location,threshold:n=f.threshold,distance:a=f.distance,includeMatches:i=f.includeMatches,findAllMatches:l=f.findAllMatches,minMatchCharLength:u=f.minMatchCharLength,isCaseSensitive:o=f.isCaseSensitive,ignoreDiacritics:h=f.ignoreDiacritics,ignoreLocation:d=f.ignoreLocation}={}){super(e),this._bitapSearch=new Pe(e,{location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:l,minMatchCharLength:u,isCaseSensitive:o,ignoreDiacritics:h,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ne extends J{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const a=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,a.push([n,t-1]);const l=!!a.length;return{isMatch:l,score:l?0:1,indices:a}}}const ge=[Ht,Ne,qt,Wt,Yt,Vt,Gt,Ke],De=ge.length,Ut=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Jt="|";function Qt(s,e={}){return s.split(Jt).map(t=>{let n=t.trim().split(Ut).filter(i=>i&&!!i.trim()),a=[];for(let i=0,l=n.length;i<l;i+=1){const u=n[i];let o=!1,h=-1;for(;!o&&++h<De;){const d=ge[h];let p=d.isMultiMatch(u);p&&(a.push(new d(p,e)),o=!0)}if(!o)for(h=-1;++h<De;){const d=ge[h];let p=d.isSingleMatch(u);if(p){a.push(new d(p,e));break}}}return a})}const Xt=new Set([Ke.type,Ne.type]);class Zt{constructor(e,{isCaseSensitive:t=f.isCaseSensitive,ignoreDiacritics:n=f.ignoreDiacritics,includeMatches:a=f.includeMatches,minMatchCharLength:i=f.minMatchCharLength,ignoreLocation:l=f.ignoreLocation,findAllMatches:u=f.findAllMatches,location:o=f.location,threshold:h=f.threshold,distance:d=f.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:u,ignoreLocation:l,location:o,threshold:h,distance:d},e=t?e:e.toLowerCase(),e=n?le(e):e,this.pattern=e,this.query=Qt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;e=a?e:e.toLowerCase(),e=i?le(e):e;let l=0,u=[],o=0;for(let h=0,d=t.length;h<d;h+=1){const p=t[h];u.length=0,l=0;for(let m=0,c=p.length;m<c;m+=1){const C=p[m],{isMatch:L,indices:D,score:T}=C.search(e);if(L){if(l+=1,o+=T,n){const w=C.constructor.type;Xt.has(w)?u=[...u,...D]:u.push(D)}}else{o=0,l=0,u.length=0;break}}if(l){let m={isMatch:!0,score:o/l};return n&&(m.indices=u),m}}return{isMatch:!1,score:1}}}const pe=[];function es(...s){pe.push(...s)}function me(s,e){for(let t=0,n=pe.length;t<n;t+=1){let a=pe[t];if(a.condition(s,e))return new a(s,e)}return new Pe(s,e)}const ue={AND:"$and",OR:"$or"},ve={PATH:"$path",PATTERN:"$val"},be=s=>!!(s[ue.AND]||s[ue.OR]),ts=s=>!!s[ve.PATH],ss=s=>!G(s)&&we(s)&&!be(s),Se=s=>({[ue.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function je(s,e,{auto:t=!0}={}){const n=a=>{let i=Object.keys(a);const l=ts(a);if(!l&&i.length>1&&!be(a))return n(Se(a));if(ss(a)){const o=l?a[ve.PATH]:i[0],h=l?a[ve.PATTERN]:a[o];if(!j(h))throw new Error(Ft(o));const d={keyId:fe(o),pattern:h};return t&&(d.searcher=me(h,e)),d}let u={children:[],operator:i[0]};return i.forEach(o=>{const h=a[o];G(h)&&h.forEach(d=>{u.children.push(n(d))})}),u};return be(s)||(s=Se(s)),n(s)}function is(s,{ignoreFieldNorm:e=f.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:a,norm:i,score:l})=>{const u=a?a.weight:null;n*=Math.pow(l===0&&u?Number.EPSILON:l,(u||1)*(e?1:i))}),t.score=n})}function ns(s,e){const t=s.matches;e.matches=[],S(t)&&t.forEach(n=>{if(!S(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let l={indices:a,value:i};n.key&&(l.key=n.key.src),n.idx>-1&&(l.refIndex=n.idx),e.matches.push(l)})}function as(s,e){e.score=s.score}function rs(s,e,{includeMatches:t=f.includeMatches,includeScore:n=f.includeScore}={}){const a=[];return t&&a.push(ns),n&&a.push(as),s.map(i=>{const{idx:l}=i,u={item:e[l],refIndex:l};return a.length&&a.forEach(o=>{o(i,u)}),u})}class ee{constructor(e,t={},n){this.options={...f,...t},this.options.useExtendedSearch,this._keyStore=new St(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ae))throw new Error(It);this._myIndex=t||ze(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){S(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,a-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:l,ignoreFieldNorm:u}=this.options;let o=j(e)?j(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return is(o,{ignoreFieldNorm:u}),i&&o.sort(l),Te(t)&&t>-1&&(o=o.slice(0,t)),rs(o,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=me(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:l,n:u})=>{if(!S(i))return;const{isMatch:o,score:h,indices:d}=t.searchIn(i);o&&a.push({item:i,idx:l,matches:[{score:h,value:i,norm:u,indices:d}]})}),a}_searchLogical(e){const t=je(e,this.options),n=(u,o,h)=>{if(!u.children){const{keyId:p,searcher:m}=u,c=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(o,p),searcher:m});return c&&c.length?[{idx:h,item:o,matches:c}]:[]}const d=[];for(let p=0,m=u.children.length;p<m;p+=1){const c=u.children[p],C=n(c,o,h);if(C.length)d.push(...C);else if(u.operator===ue.AND)return[]}return d},a=this._myIndex.records,i={},l=[];return a.forEach(({$:u,i:o})=>{if(S(u)){let h=n(t,u,o);h.length&&(i[o]||(i[o]={idx:o,item:u,matches:[]},l.push(i[o])),h.forEach(({matches:d})=>{i[o].matches.push(...d)}))}}),l}_searchObjectList(e){const t=me(e,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:l,i:u})=>{if(!S(l))return;let o=[];n.forEach((h,d)=>{o.push(...this._findMatches({key:h,value:l[d],searcher:t}))}),o.length&&i.push({idx:u,item:l,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!S(t))return[];let a=[];if(G(t))t.forEach(({v:i,i:l,n:u})=>{if(!S(i))return;const{isMatch:o,score:h,indices:d}=n.searchIn(i);o&&a.push({score:h,key:e,value:i,idx:l,norm:u,indices:d})});else{const{v:i,n:l}=t,{isMatch:u,score:o,indices:h}=n.searchIn(i);u&&a.push({score:o,key:e,value:i,norm:l,indices:h})}return a}}ee.version="7.1.0";ee.createIndex=ze;ee.parseIndex=Pt;ee.config=f;ee.parseQuery=je;es(Zt);function ls(s,e,t){const n=()=>{var l,u;return new ee((l=V(e))!=null?l:[],(u=V(t))==null?void 0:u.fuseOptions)},a=$e(n());ye(()=>{var l;return(l=V(t))==null?void 0:l.fuseOptions},()=>{a.value=n()},{deep:!0}),ye(()=>V(e),l=>{a.value.setCollection(l)},{deep:!0});const i=U(()=>{const l=V(t);if(l?.matchAllWhenSearchEmpty&&!V(s))return V(e).map((o,h)=>({item:o,refIndex:h}));const u=l?.resultLimit;return a.value.search(V(s),u?{limit:u}:void 0)});return{fuse:a,results:i}}function us(s,e){let t="",n=0,a=!1;for(let i=s.length-1;i>=0;i--){if(s[i]===">")a=!0;else if(s[i]==="<"){a=!1,t=s[i]+t;continue}if(a||n++,n<=e)t=s[i]+t;else{t="..."+t;break}}return t}function _e(s,e,t,n){function a(i,l=[]){i=i||"";let u="",o=0;l.forEach(d=>{if(d.length===2&&d[0]===d[1])return;const p=d[1]+1,m=p-d[0]>=e.length;u+=[i.substring(o,d[0]),m&&"<mark>",i.substring(d[0],p),m&&"</mark>"].filter(Boolean).join(""),o=p}),u+=i.substring(o);const h=u.indexOf("<mark>");return h!==-1&&(u=us(u,u.length-h)),u}if(s.matches?.length){for(const i of s.matches)if(!(t&&i.key!==t)&&!n?.includes(i.key))return a(i.value,i.indices)}}const os={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-start gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate space-x-1 text-dimmed",itemDescription:"truncate text-muted",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},cs=["innerHTML"],hs=["innerHTML"],Fs=Object.assign({inheritAttrs:!1},{__name:"UCommandPalette",props:xe({as:{type:null,required:!1},icon:{type:null,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},childrenIcon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:null,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:null,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},preserveGroupOrder:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:xe(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,a=qe(),i=We(s,"searchTerm",{type:String,default:""}),{t:l}=Ve(),u=Ye(),o=Ue(Ce(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),n),h=Je(Ce(t,"loading")),d=Qe(()=>t.virtualize?Le(typeof t.virtualize=="boolean"?{}:t.virtualize,{estimateSize:vt(I.value,"md",t.descriptionKey)}):!1),[p,m]=mt({props:{item:{type:Object,required:!0},group:{type:Object,required:!1},index:{type:Number,required:!1}}}),c=U(()=>Ie({extend:Ie(os),...u.ui?.commandPalette||{}})({virtualize:!!t.virtualize})),C=U(()=>Le({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),L=$e([]),D=U(()=>L.value[L.value.length-1]?.placeholder||t.placeholder||l("commandPalette.placeholder")),T=U(()=>L.value?.length?[L.value[L.value.length-1]]:t.groups),w=U(()=>T.value?.filter(v=>v.id?!v.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(v=>v.items?.map(y=>({...y,group:v.id}))||[])||[]),{results:q}=ls(i,w,C),H=Xe(q,16,!0);function te(v,y){let r=y;return v?.postFilter&&typeof v.postFilter=="function"&&(r=v.postFilter(i.value,r)),{...v,items:r.slice(0,C.value.resultLimit).map(B=>({...B,labelHtml:_e(B,i.value,t.labelKey),suffixHtml:_e(B,i.value,void 0,[t.labelKey])}))}}const Q=U(()=>{const v=T.value,y=H.value.reduce((g,x)=>{const{item:$,matches:R}=x;return $.group&&(g[$.group]||=[],g[$.group]?.push({...$,matches:R})),g},{});if(t.preserveGroupOrder){const g=[];for(const x of v||[]){if(!x.items?.length)continue;const $=x.ignoreFilter?x.items:y[x.id];if(!$?.length)continue;const R=te(x,$);R.items?.length&&g.push(R)}return g}const r=Object.entries(y).map(([g,x])=>{const $=v?.find(oe=>oe.id===g);if(!$)return;const R=te($,x);return R.items?.length?R:void 0}).filter(g=>!!g);return(v?.map((g,x)=>({...g,index:x}))?.filter(g=>g.ignoreFilter&&g.items?.length)?.map(g=>({...te(g,g.items||[]),index:g.index}))?.filter(g=>g.items?.length)||[]).reduce((g,x)=>(g.splice(x.index,0,x),g),[...r])}),I=U(()=>Q.value.flatMap(v=>v.items||[])),_=Ze("rootRef");function P(v){v.children?.length&&(L.value.push({id:`history-${L.value.length}`,label:v.label,slot:v.slot,placeholder:v.placeholder,items:v.children}),i.value="",_.value?.highlightFirstItem())}function se(){L.value.length&&(L.value.pop(),i.value="",_.value?.highlightFirstItem())}function ie(){i.value||se()}function W(v,y){y.children?.length?(v.preventDefault(),P(y)):y.onSelect?.(v)}return(v,y)=>(A(),F(ae,null,[O(b(p),null,{default:k(({item:r,index:B,group:g})=>[O(b(ot),{value:b(et)(r,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:r.disabled,"as-child":"",onSelect:x=>W(x,r)},{default:k(()=>[O(tt,z(b(st)(r),{custom:""}),{default:k(({active:x,...$})=>[O(it,z($,{"data-slot":"item",class:c.value.item({class:[t.ui?.item,r.ui?.item,r.class],active:x||r.active})}),{default:k(()=>[N(v.$slots,r.slot||g?.slot||"item",{item:r,index:B,ui:c.value},()=>[N(v.$slots,r.slot?`${r.slot}-leading`:g?.slot?`${g.slot}-leading`:"item-leading",{item:r,index:B,ui:c.value},()=>[r.loading?(A(),M(ne,{key:0,name:s.loadingIcon||b(u).ui.icons.loading,"data-slot":"itemLeadingIcon",class:E(c.value.itemLeadingIcon({class:[t.ui?.itemLeadingIcon,r.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):r.icon?(A(),M(ne,{key:1,name:r.icon,"data-slot":"itemLeadingIcon",class:E(c.value.itemLeadingIcon({class:[t.ui?.itemLeadingIcon,r.ui?.itemLeadingIcon],active:x||r.active}))},null,8,["name","class"])):r.avatar?(A(),M(nt,z({key:2,size:r.ui?.itemLeadingAvatarSize||t.ui?.itemLeadingAvatarSize||c.value.itemLeadingAvatarSize()},r.avatar,{"data-slot":"itemLeadingAvatar",class:c.value.itemLeadingAvatar({class:[t.ui?.itemLeadingAvatar,r.ui?.itemLeadingAvatar],active:x||r.active})}),null,16,["size","class"])):r.chip?(A(),M(at,z({key:3,size:r.ui?.itemLeadingChipSize||t.ui?.itemLeadingChipSize||c.value.itemLeadingChipSize(),inset:"",standalone:""},r.chip,{"data-slot":"itemLeadingChip",class:c.value.itemLeadingChip({class:[t.ui?.itemLeadingChip,r.ui?.itemLeadingChip],active:x||r.active})}),null,16,["size","class"])):K("",!0)]),r.prefix||r.labelHtml||b(Y)(r,t.labelKey)||r.suffixHtml||r.suffix||a[r.slot?`${r.slot}-label`:g?.slot?`${g.slot}-label`:"item-label"]||b(Y)(r,t.descriptionKey)||a[r.slot?`${r.slot}-description`:g?.slot?`${g.slot}-description`:"item-description"]?(A(),F("span",{key:0,"data-slot":"itemWrapper",class:E(c.value.itemWrapper({class:[t.ui?.itemWrapper,r.ui?.itemWrapper]}))},[Ee("span",{"data-slot":"itemLabel",class:E(c.value.itemLabel({class:[t.ui?.itemLabel,r.ui?.itemLabel],active:x||r.active}))},[N(v.$slots,r.slot?`${r.slot}-label`:g?.slot?`${g.slot}-label`:"item-label",{item:r,index:B,ui:c.value},()=>[r.prefix?(A(),F("span",{key:0,"data-slot":"itemLabelPrefix",class:E(c.value.itemLabelPrefix({class:[t.ui?.itemLabelPrefix,r.ui?.itemLabelPrefix]}))},Z(r.prefix),3)):K("",!0),r.labelHtml?(A(),F("span",{key:1,"data-slot":"itemLabelBase",class:E(c.value.itemLabelBase({class:[t.ui?.itemLabelBase,r.ui?.itemLabelBase],active:x||r.active})),innerHTML:r.labelHtml},null,10,cs)):(A(),F("span",{key:2,"data-slot":"itemLabelBase",class:E(c.value.itemLabelBase({class:[t.ui?.itemLabelBase,r.ui?.itemLabelBase],active:x||r.active}))},Z(b(Y)(r,t.labelKey)),3)),r.suffixHtml?(A(),F("span",{key:3,"data-slot":"itemLabelSuffix",class:E(c.value.itemLabelSuffix({class:[t.ui?.itemLabelSuffix,r.ui?.itemLabelSuffix],active:x||r.active})),innerHTML:r.suffixHtml},null,10,hs)):r.suffix?(A(),F("span",{key:4,"data-slot":"itemLabelSuffix",class:E(c.value.itemLabelSuffix({class:[t.ui?.itemLabelSuffix,r.ui?.itemLabelSuffix],active:x||r.active}))},Z(r.suffix),3)):K("",!0)])],2),b(Y)(r,t.descriptionKey)?(A(),F("span",{key:0,"data-slot":"itemDescription",class:E(c.value.itemDescription({class:[t.ui?.itemDescription,r.ui?.itemDescription]}))},[N(v.$slots,r.slot?`${r.slot}-description`:g?.slot?`${g.slot}-description`:"item-description",{item:r,index:B,ui:c.value},()=>[ce(Z(b(Y)(r,t.descriptionKey)),1)])],2)):K("",!0)],2)):K("",!0),Ee("span",{"data-slot":"itemTrailing",class:E(c.value.itemTrailing({class:[t.ui?.itemTrailing,r.ui?.itemTrailing]}))},[N(v.$slots,r.slot?`${r.slot}-trailing`:g?.slot?`${g.slot}-trailing`:"item-trailing",{item:r,index:B,ui:c.value},()=>[r.children&&r.children.length>0?(A(),M(ne,{key:0,name:s.childrenIcon||b(u).ui.icons.chevronRight,"data-slot":"itemTrailingIcon",class:E(c.value.itemTrailingIcon({class:[t.ui?.itemTrailingIcon,r.ui?.itemTrailingIcon]}))},null,8,["name","class"])):r.kbds?.length?(A(),F("span",{key:1,"data-slot":"itemTrailingKbds",class:E(c.value.itemTrailingKbds({class:[t.ui?.itemTrailingKbds,r.ui?.itemTrailingKbds]}))},[(A(!0),F(ae,null,he(r.kbds,(R,oe)=>(A(),M(At,z({key:oe,size:r.ui?.itemTrailingKbdsSize||t.ui?.itemTrailingKbdsSize||c.value.itemTrailingKbdsSize()},{ref_for:!0},typeof R=="string"?{value:R}:R),null,16,["size"]))),128))],2)):g?.highlightedIcon?(A(),M(ne,{key:2,name:g.highlightedIcon,"data-slot":"itemTrailingHighlightedIcon",class:E(c.value.itemTrailingHighlightedIcon({class:[t.ui?.itemTrailingHighlightedIcon,r.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):K("",!0)]),r.children?.length?K("",!0):(A(),M(b(ct),{key:0,"as-child":""},{default:k(()=>[O(ne,{name:s.selectedIcon||b(u).ui.icons.check,"data-slot":"itemTrailingIcon",class:E(c.value.itemTrailingIcon({class:[t.ui?.itemTrailingIcon,r.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["value","disabled","onSelect"])]),_:3}),O(b(pt),z({...b(o),...v.$attrs},{ref_key:"rootRef",ref:_,"selection-behavior":s.selectionBehavior,"data-slot":"root",class:c.value.root({class:[t.ui?.root,t.class]})}),{default:k(()=>[O(b(ht),{modelValue:i.value,"onUpdate:modelValue":y[1]||(y[1]=r=>i.value=r),"as-child":""},{default:k(()=>[O(bt,z({placeholder:D.value,variant:"none",autofocus:s.autofocus},b(h),{"loading-icon":s.loadingIcon,"trailing-icon":s.trailingIcon,icon:s.icon||b(u).ui.icons.search,"data-slot":"input",class:c.value.input({class:t.ui?.input}),onKeydown:rt(ie,["backspace"])}),lt({_:2},[L.value?.length&&(s.back||a.back)?{name:"leading",fn:k(()=>[N(v.$slots,"back",{ui:c.value},()=>[O(Be,z({icon:s.backIcon||b(u).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":b(l)("commandPalette.back")},typeof s.back=="object"?s.back:{},{"data-slot":"back",class:c.value.back({class:t.ui?.back}),onClick:se}),null,16,["icon","aria-label","class"])])]),key:"0"}:void 0,s.close||a.close?{name:"trailing",fn:k(()=>[N(v.$slots,"close",{ui:c.value},()=>[s.close?(A(),M(Be,z({key:0,icon:s.closeIcon||b(u).ui.icons.close,color:"neutral",variant:"ghost","aria-label":b(l)("commandPalette.close")},typeof s.close=="object"?s.close:{},{"data-slot":"close",class:c.value.close({class:t.ui?.close}),onClick:y[0]||(y[0]=r=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):K("",!0)])]),key:"1"}:void 0]),1040,["placeholder","autofocus","loading-icon","trailing-icon","icon","class"])]),_:3},8,["modelValue"]),O(b(dt),{"data-slot":"content",class:E(c.value.content({class:t.ui?.content}))},{default:k(()=>[Q.value?.length?(A(),F("div",{key:0,role:"presentation","data-slot":"viewport",class:E(c.value.viewport({class:t.ui?.viewport}))},[s.virtualize?(A(),M(b(ft),z({key:0,options:I.value,"text-content":r=>b(Y)(r,t.labelKey)},d.value),{default:k(({option:r,virtualItem:B})=>[O(b(m),{item:r,index:B.index},null,8,["item","index"])]),_:1},16,["options","text-content"])):(A(!0),F(ae,{key:1},he(Q.value,r=>(A(),M(b(gt),{key:`group-${r.id}`,"data-slot":"group",class:E(c.value.group({class:t.ui?.group}))},{default:k(()=>[b(Y)(r,t.labelKey)?(A(),M(b(xt),{key:0,"data-slot":"label",class:E(c.value.label({class:t.ui?.label}))},{default:k(()=>[ce(Z(b(Y)(r,t.labelKey)),1)]),_:2},1032,["class"])):K("",!0),(A(!0),F(ae,null,he(r.items,(B,g)=>(A(),M(b(m),{key:`group-${r.id}-${g}`,item:B,index:g,group:r},null,8,["item","index","group"]))),128))]),_:2},1032,["class"]))),128))],2)):(A(),F("div",{key:1,"data-slot":"empty",class:E(c.value.empty({class:t.ui?.empty}))},[N(v.$slots,"empty",{searchTerm:i.value},()=>[ce(Z(i.value?b(l)("commandPalette.noMatch",{searchTerm:i.value}):b(l)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),a.footer?(A(),F("div",{key:0,"data-slot":"footer",class:E(c.value.footer({class:t.ui?.footer}))},[N(v.$slots,"footer",{ui:c.value})],2)):K("",!0)]),_:3},16,["selection-behavior","class"])],64))}});export{Fs as default};
