import{aF as b,r as g,aG as v,d4 as w}from"./DgrZHqjH.js";function E(t,r){const e=b(!1,300),n=g(null),s=w();function o(){n.value=null,e.value=!1}function a(h,l){const u=h.currentTarget,c={x:h.clientX,y:h.clientY},i=m(c,u.getBoundingClientRect()),f=A(c,i),y=L(l.getBoundingClientRect()),x=k([...f,...y]);n.value=x,e.value=!0}return v(h=>{if(t.value&&r.value){const l=c=>a(c,r.value),u=c=>a(c,t.value);t.value.addEventListener("pointerleave",l),r.value.addEventListener("pointerleave",u),h(()=>{t.value?.removeEventListener("pointerleave",l),r.value?.removeEventListener("pointerleave",u)})}}),v(h=>{if(n.value){const l=u=>{if(!n.value||!(u.target instanceof HTMLElement))return;const c=u.target,i={x:u.clientX,y:u.clientY},f=t.value?.contains(c)||r.value?.contains(c),y=!T(i,n.value),x=!!c.closest("[data-grace-area-trigger]");f?o():(y||x)&&(o(),s.trigger())};t.value?.ownerDocument.addEventListener("pointermove",l),h(()=>t.value?.ownerDocument.removeEventListener("pointermove",l))}}),{isPointerInTransit:e,onPointerExit:s.on}}function m(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),s=Math.abs(r.right-t.x),o=Math.abs(r.left-t.x);switch(Math.min(e,n,s,o)){case o:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function A(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function L(t){const{top:r,right:e,bottom:n,left:s}=t;return[{x:s,y:r},{x:e,y:r},{x:e,y:n},{x:s,y:n}]}function T(t,r){const{x:e,y:n}=t;let s=!1;for(let o=0,a=r.length-1;o<r.length;a=o++){const h=r[o].x,l=r[o].y,u=r[a].x,c=r[a].y;l>n!=c>n&&e<(u-h)*(n-l)/(c-l)+h&&(s=!s)}return s}function k(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),p(r)}function p(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}export{E as u};
